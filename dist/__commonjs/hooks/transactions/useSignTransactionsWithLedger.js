"use strict";var tl=Object.create;var bt=Object.defineProperty,rl=Object.defineProperties,nl=Object.getOwnPropertyDescriptor,ol=Object.getOwnPropertyDescriptors,il=Object.getOwnPropertyNames,Zt=Object.getOwnPropertySymbols,sl=Object.getPrototypeOf,Jr=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable;var Eo=(e,t,r)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))Jr.call(t,r)&&Eo(e,r,t[r]);if(Zt)for(var r of Zt(t))Po.call(t,r)&&Eo(e,r,t[r]);return e},I=(e,t)=>rl(e,ol(t));var kt=(e,t)=>{var r={};for(var o in e)Jr.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Zt)for(var o of Zt(e))t.indexOf(o)<0&&Po.call(e,o)&&(r[o]=e[o]);return r};var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fe=(e,t)=>{for(var r in t)bt(e,r,{get:t[r],enumerable:!0})},Lo=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of il(t))!Jr.call(e,i)&&i!==r&&bt(e,i,{get:()=>t[i],enumerable:!(o=nl(t,i))||o.enumerable});return e};var b=(e,t,r)=>(r=e!=null?tl(sl(e)):{},Lo(t||!e||!e.__esModule?bt(r,"default",{value:e,enumerable:!0}):r,e)),Et=e=>Lo(bt({},"__esModule",{value:!0}),e);var h=(e,t,r)=>new Promise((o,i)=>{var l=m=>{try{u(r.next(m))}catch(g){i(g)}},p=m=>{try{u(r.throw(m))}catch(g){i(g)}},u=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,p);u((r=r.apply(e,t)).next())});var Co=X(Jt=>{"use strict";n();Jt.byteLength=cl;Jt.toByteArray=pl;Jt.fromByteArray=ml;var ae=[],J=[],al=typeof Uint8Array!="undefined"?Uint8Array:Array,Qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Ue=0,No=Qr.length;Ue<No;++Ue)ae[Ue]=Qr[Ue],J[Qr.charCodeAt(Ue)]=Ue;var Ue,No;J["-".charCodeAt(0)]=62;J["_".charCodeAt(0)]=63;function Ro(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var o=r===t?0:4-r%4;return[r,o]}function cl(e){var t=Ro(e),r=t[0],o=t[1];return(r+o)*3/4-o}function ll(e,t,r){return(t+r)*3/4-r}function pl(e){var t,r=Ro(e),o=r[0],i=r[1],l=new al(ll(e,o,i)),p=0,u=i>0?o-4:o,m;for(m=0;m<u;m+=4)t=J[e.charCodeAt(m)]<<18|J[e.charCodeAt(m+1)]<<12|J[e.charCodeAt(m+2)]<<6|J[e.charCodeAt(m+3)],l[p++]=t>>16&255,l[p++]=t>>8&255,l[p++]=t&255;return i===2&&(t=J[e.charCodeAt(m)]<<2|J[e.charCodeAt(m+1)]>>4,l[p++]=t&255),i===1&&(t=J[e.charCodeAt(m)]<<10|J[e.charCodeAt(m+1)]<<4|J[e.charCodeAt(m+2)]>>2,l[p++]=t>>8&255,l[p++]=t&255),l}function ul(e){return ae[e>>18&63]+ae[e>>12&63]+ae[e>>6&63]+ae[e&63]}function dl(e,t,r){for(var o,i=[],l=t;l<r;l+=3)o=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(e[l+2]&255),i.push(ul(o));return i.join("")}function ml(e){for(var t,r=e.length,o=r%3,i=[],l=16383,p=0,u=r-o;p<u;p+=l)i.push(dl(e,p,p+l>u?u:p+l));return o===1?(t=e[r-1],i.push(ae[t>>2]+ae[t<<4&63]+"==")):o===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ae[t>>10]+ae[t>>4&63]+ae[t<<2&63]+"=")),i.join("")}});var Do=X(en=>{n();en.read=function(e,t,r,o,i){var l,p,u=i*8-o-1,m=(1<<u)-1,g=m>>1,y=-7,T=r?i-1:0,w=r?-1:1,v=e[t+T];for(T+=w,l=v&(1<<-y)-1,v>>=-y,y+=u;y>0;l=l*256+e[t+T],T+=w,y-=8);for(p=l&(1<<-y)-1,l>>=-y,y+=o;y>0;p=p*256+e[t+T],T+=w,y-=8);if(l===0)l=1-g;else{if(l===m)return p?NaN:(v?-1:1)*(1/0);p=p+Math.pow(2,o),l=l-g}return(v?-1:1)*p*Math.pow(2,l-o)};en.write=function(e,t,r,o,i,l){var p,u,m,g=l*8-i-1,y=(1<<g)-1,T=y>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=o?0:l-1,A=o?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,p=y):(p=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-p))<1&&(p--,m*=2),p+T>=1?t+=w/m:t+=w*Math.pow(2,1-T),t*m>=2&&(p++,m/=2),p+T>=y?(u=0,p=y):p+T>=1?(u=(t*m-1)*Math.pow(2,i),p=p+T):(u=t*Math.pow(2,T-1)*Math.pow(2,i),p=0));i>=8;e[r+v]=u&255,v+=A,u/=256,i-=8);for(p=p<<i|u,g+=i;g>0;e[r+v]=p&255,v+=A,p/=256,g-=8);e[r+v-A]|=_*128}});var jo=X(at=>{"use strict";n();var tn=Co(),st=Do(),_o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;at.Buffer=d;at.SlowBuffer=xl;at.INSPECT_MAX_BYTES=50;var Qt=2147483647;at.kMaxLength=Qt;d.TYPED_ARRAY_SUPPORT=gl();!d.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gl(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(r){return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.buffer}});Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.byteOffset}});function xe(e){if(e>Qt)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(e)}return Fo(e,t,r)}d.poolSize=8192;function Fo(e,t,r){if(typeof e=="string")return Tl(e,t);if(ArrayBuffer.isView(e))return yl(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ce(e,ArrayBuffer)||e&&ce(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ce(e,SharedArrayBuffer)||e&&ce(e.buffer,SharedArrayBuffer)))return nn(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var o=e.valueOf&&e.valueOf();if(o!=null&&o!==e)return d.from(o,t,r);var i=hl(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return d.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}d.from=function(e,t,r){return Fo(e,t,r)};Object.setPrototypeOf(d.prototype,Uint8Array.prototype);Object.setPrototypeOf(d,Uint8Array);function Uo(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function fl(e,t,r){return Uo(e),e<=0?xe(e):t!==void 0?typeof r=="string"?xe(e).fill(t,r):xe(e).fill(t):xe(e)}d.alloc=function(e,t,r){return fl(e,t,r)};function sn(e){return Uo(e),xe(e<0?0:an(e)|0)}d.allocUnsafe=function(e){return sn(e)};d.allocUnsafeSlow=function(e){return sn(e)};function Tl(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=Bo(e,t)|0,o=xe(r),i=o.write(e,t);return i!==r&&(o=o.slice(0,i)),o}function rn(e){for(var t=e.length<0?0:an(e.length)|0,r=xe(t),o=0;o<t;o+=1)r[o]=e[o]&255;return r}function yl(e){if(ce(e,Uint8Array)){var t=new Uint8Array(e);return nn(t.buffer,t.byteOffset,t.byteLength)}return rn(e)}function nn(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var o;return t===void 0&&r===void 0?o=new Uint8Array(e):r===void 0?o=new Uint8Array(e,t):o=new Uint8Array(e,t,r),Object.setPrototypeOf(o,d.prototype),o}function hl(e){if(d.isBuffer(e)){var t=an(e.length)|0,r=xe(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||cn(e.length)?xe(0):rn(e);if(e.type==="Buffer"&&Array.isArray(e.data))return rn(e.data)}function an(e){if(e>=Qt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qt.toString(16)+" bytes");return e|0}function xl(e){return+e!=e&&(e=0),d.alloc(+e)}d.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==d.prototype};d.compare=function(t,r){if(ce(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),ce(r,Uint8Array)&&(r=d.from(r,r.offset,r.byteLength)),!d.isBuffer(t)||!d.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var o=t.length,i=r.length,l=0,p=Math.min(o,i);l<p;++l)if(t[l]!==r[l]){o=t[l],i=r[l];break}return o<i?-1:i<o?1:0};d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};d.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return d.alloc(0);var o;if(r===void 0)for(r=0,o=0;o<t.length;++o)r+=t[o].length;var i=d.allocUnsafe(r),l=0;for(o=0;o<t.length;++o){var p=t[o];if(ce(p,Uint8Array))l+p.length>i.length?d.from(p).copy(i,l):Uint8Array.prototype.set.call(i,p,l);else if(d.isBuffer(p))p.copy(i,l);else throw new TypeError('"list" argument must be an Array of Buffers');l+=p.length}return i};function Bo(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ce(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return on(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return qo(e).length;default:if(i)return o?-1:on(e).length;t=(""+t).toLowerCase(),i=!0}}d.byteLength=Bo;function Sl(e,t,r){var o=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Nl(this,t,r);case"utf8":case"utf-8":return Go(this,t,r);case"ascii":return Pl(this,t,r);case"latin1":case"binary":return Ll(this,t,r);case"base64":return kl(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rl(this,t,r);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}d.prototype._isBuffer=!0;function Be(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}d.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Be(this,r,r+1);return this};d.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Be(this,r,r+3),Be(this,r+1,r+2);return this};d.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Be(this,r,r+7),Be(this,r+1,r+6),Be(this,r+2,r+5),Be(this,r+3,r+4);return this};d.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Go(this,0,t):Sl.apply(this,arguments)};d.prototype.toLocaleString=d.prototype.toString;d.prototype.equals=function(t){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:d.compare(this,t)===0};d.prototype.inspect=function(){var t="",r=at.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};_o&&(d.prototype[_o]=d.prototype.inspect);d.prototype.compare=function(t,r,o,i,l){if(ce(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),o===void 0&&(o=t?t.length:0),i===void 0&&(i=0),l===void 0&&(l=this.length),r<0||o>t.length||i<0||l>this.length)throw new RangeError("out of range index");if(i>=l&&r>=o)return 0;if(i>=l)return-1;if(r>=o)return 1;if(r>>>=0,o>>>=0,i>>>=0,l>>>=0,this===t)return 0;for(var p=l-i,u=o-r,m=Math.min(p,u),g=this.slice(i,l),y=t.slice(r,o),T=0;T<m;++T)if(g[T]!==y[T]){p=g[T],u=y[T];break}return p<u?-1:u<p?1:0};function Wo(e,t,r,o,i){if(e.length===0)return-1;if(typeof r=="string"?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,cn(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=d.from(t,o)),d.isBuffer(t))return t.length===0?-1:Oo(e,t,r,o,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Oo(e,[t],r,o,i);throw new TypeError("val must be string, number or Buffer")}function Oo(e,t,r,o,i){var l=1,p=e.length,u=t.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(e.length<2||t.length<2)return-1;l=2,p/=2,u/=2,r/=2}function m(v,A){return l===1?v[A]:v.readUInt16BE(A*l)}var g;if(i){var y=-1;for(g=r;g<p;g++)if(m(e,g)===m(t,y===-1?0:g-y)){if(y===-1&&(y=g),g-y+1===u)return y*l}else y!==-1&&(g-=g-y),y=-1}else for(r+u>p&&(r=p-u),g=r;g>=0;g--){for(var T=!0,w=0;w<u;w++)if(m(e,g+w)!==m(t,w)){T=!1;break}if(T)return g}return-1}d.prototype.includes=function(t,r,o){return this.indexOf(t,r,o)!==-1};d.prototype.indexOf=function(t,r,o){return Wo(this,t,r,o,!0)};d.prototype.lastIndexOf=function(t,r,o){return Wo(this,t,r,o,!1)};function wl(e,t,r,o){r=Number(r)||0;var i=e.length-r;o?(o=Number(o),o>i&&(o=i)):o=i;var l=t.length;o>l/2&&(o=l/2);for(var p=0;p<o;++p){var u=parseInt(t.substr(p*2,2),16);if(cn(u))return p;e[r+p]=u}return p}function vl(e,t,r,o){return er(on(t,e.length-r),e,r,o)}function Al(e,t,r,o){return er(_l(t),e,r,o)}function Il(e,t,r,o){return er(qo(t),e,r,o)}function bl(e,t,r,o){return er(Ol(t,e.length-r),e,r,o)}d.prototype.write=function(t,r,o,i){if(r===void 0)i="utf8",o=this.length,r=0;else if(o===void 0&&typeof r=="string")i=r,o=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(o)?(o=o>>>0,i===void 0&&(i="utf8")):(i=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var l=this.length-r;if((o===void 0||o>l)&&(o=l),t.length>0&&(o<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var p=!1;;)switch(i){case"hex":return wl(this,t,r,o);case"utf8":case"utf-8":return vl(this,t,r,o);case"ascii":case"latin1":case"binary":return Al(this,t,r,o);case"base64":return Il(this,t,r,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bl(this,t,r,o);default:if(p)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),p=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function kl(e,t,r){return t===0&&r===e.length?tn.fromByteArray(e):tn.fromByteArray(e.slice(t,r))}function Go(e,t,r){r=Math.min(e.length,r);for(var o=[],i=t;i<r;){var l=e[i],p=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u<=r){var m,g,y,T;switch(u){case 1:l<128&&(p=l);break;case 2:m=e[i+1],(m&192)===128&&(T=(l&31)<<6|m&63,T>127&&(p=T));break;case 3:m=e[i+1],g=e[i+2],(m&192)===128&&(g&192)===128&&(T=(l&15)<<12|(m&63)<<6|g&63,T>2047&&(T<55296||T>57343)&&(p=T));break;case 4:m=e[i+1],g=e[i+2],y=e[i+3],(m&192)===128&&(g&192)===128&&(y&192)===128&&(T=(l&15)<<18|(m&63)<<12|(g&63)<<6|y&63,T>65535&&T<1114112&&(p=T))}}p===null?(p=65533,u=1):p>65535&&(p-=65536,o.push(p>>>10&1023|55296),p=56320|p&1023),o.push(p),i+=u}return El(o)}var Mo=4096;function El(e){var t=e.length;if(t<=Mo)return String.fromCharCode.apply(String,e);for(var r="",o=0;o<t;)r+=String.fromCharCode.apply(String,e.slice(o,o+=Mo));return r}function Pl(e,t,r){var o="";r=Math.min(e.length,r);for(var i=t;i<r;++i)o+=String.fromCharCode(e[i]&127);return o}function Ll(e,t,r){var o="";r=Math.min(e.length,r);for(var i=t;i<r;++i)o+=String.fromCharCode(e[i]);return o}function Nl(e,t,r){var o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var i="",l=t;l<r;++l)i+=Ml[e[l]];return i}function Rl(e,t,r){for(var o=e.slice(t,r),i="",l=0;l<o.length-1;l+=2)i+=String.fromCharCode(o[l]+o[l+1]*256);return i}d.prototype.slice=function(t,r){var o=this.length;t=~~t,r=r===void 0?o:~~r,t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),r<0?(r+=o,r<0&&(r=0)):r>o&&(r=o),r<t&&(r=t);var i=this.subarray(t,r);return Object.setPrototypeOf(i,d.prototype),i};function U(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(t,r,o){t=t>>>0,r=r>>>0,o||U(t,r,this.length);for(var i=this[t],l=1,p=0;++p<r&&(l*=256);)i+=this[t+p]*l;return i};d.prototype.readUintBE=d.prototype.readUIntBE=function(t,r,o){t=t>>>0,r=r>>>0,o||U(t,r,this.length);for(var i=this[t+--r],l=1;r>0&&(l*=256);)i+=this[t+--r]*l;return i};d.prototype.readUint8=d.prototype.readUInt8=function(t,r){return t=t>>>0,r||U(t,1,this.length),this[t]};d.prototype.readUint16LE=d.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||U(t,2,this.length),this[t]|this[t+1]<<8};d.prototype.readUint16BE=d.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||U(t,2,this.length),this[t]<<8|this[t+1]};d.prototype.readUint32LE=d.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};d.prototype.readUint32BE=d.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||U(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};d.prototype.readIntLE=function(t,r,o){t=t>>>0,r=r>>>0,o||U(t,r,this.length);for(var i=this[t],l=1,p=0;++p<r&&(l*=256);)i+=this[t+p]*l;return l*=128,i>=l&&(i-=Math.pow(2,8*r)),i};d.prototype.readIntBE=function(t,r,o){t=t>>>0,r=r>>>0,o||U(t,r,this.length);for(var i=r,l=1,p=this[t+--i];i>0&&(l*=256);)p+=this[t+--i]*l;return l*=128,p>=l&&(p-=Math.pow(2,8*r)),p};d.prototype.readInt8=function(t,r){return t=t>>>0,r||U(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};d.prototype.readInt16LE=function(t,r){t=t>>>0,r||U(t,2,this.length);var o=this[t]|this[t+1]<<8;return o&32768?o|4294901760:o};d.prototype.readInt16BE=function(t,r){t=t>>>0,r||U(t,2,this.length);var o=this[t+1]|this[t]<<8;return o&32768?o|4294901760:o};d.prototype.readInt32LE=function(t,r){return t=t>>>0,r||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};d.prototype.readInt32BE=function(t,r){return t=t>>>0,r||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};d.prototype.readFloatLE=function(t,r){return t=t>>>0,r||U(t,4,this.length),st.read(this,t,!0,23,4)};d.prototype.readFloatBE=function(t,r){return t=t>>>0,r||U(t,4,this.length),st.read(this,t,!1,23,4)};d.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||U(t,8,this.length),st.read(this,t,!0,52,8)};d.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||U(t,8,this.length),st.read(this,t,!1,52,8)};function $(e,t,r,o,i,l){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<l)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(t,r,o,i){if(t=+t,r=r>>>0,o=o>>>0,!i){var l=Math.pow(2,8*o)-1;$(this,t,r,o,l,0)}var p=1,u=0;for(this[r]=t&255;++u<o&&(p*=256);)this[r+u]=t/p&255;return r+o};d.prototype.writeUintBE=d.prototype.writeUIntBE=function(t,r,o,i){if(t=+t,r=r>>>0,o=o>>>0,!i){var l=Math.pow(2,8*o)-1;$(this,t,r,o,l,0)}var p=o-1,u=1;for(this[r+p]=t&255;--p>=0&&(u*=256);)this[r+p]=t/u&255;return r+o};d.prototype.writeUint8=d.prototype.writeUInt8=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,1,255,0),this[r]=t&255,r+1};d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};d.prototype.writeIntLE=function(t,r,o,i){if(t=+t,r=r>>>0,!i){var l=Math.pow(2,8*o-1);$(this,t,r,o,l-1,-l)}var p=0,u=1,m=0;for(this[r]=t&255;++p<o&&(u*=256);)t<0&&m===0&&this[r+p-1]!==0&&(m=1),this[r+p]=(t/u>>0)-m&255;return r+o};d.prototype.writeIntBE=function(t,r,o,i){if(t=+t,r=r>>>0,!i){var l=Math.pow(2,8*o-1);$(this,t,r,o,l-1,-l)}var p=o-1,u=1,m=0;for(this[r+p]=t&255;--p>=0&&(u*=256);)t<0&&m===0&&this[r+p+1]!==0&&(m=1),this[r+p]=(t/u>>0)-m&255;return r+o};d.prototype.writeInt8=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};d.prototype.writeInt16LE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};d.prototype.writeInt16BE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};d.prototype.writeInt32LE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};d.prototype.writeInt32BE=function(t,r,o){return t=+t,r=r>>>0,o||$(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function Vo(e,t,r,o,i,l){if(r+o>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $o(e,t,r,o,i){return t=+t,r=r>>>0,i||Vo(e,t,r,4,34028234663852886e22,-34028234663852886e22),st.write(e,t,r,o,23,4),r+4}d.prototype.writeFloatLE=function(t,r,o){return $o(this,t,r,!0,o)};d.prototype.writeFloatBE=function(t,r,o){return $o(this,t,r,!1,o)};function Ho(e,t,r,o,i){return t=+t,r=r>>>0,i||Vo(e,t,r,8,17976931348623157e292,-17976931348623157e292),st.write(e,t,r,o,52,8),r+8}d.prototype.writeDoubleLE=function(t,r,o){return Ho(this,t,r,!0,o)};d.prototype.writeDoubleBE=function(t,r,o){return Ho(this,t,r,!1,o)};d.prototype.copy=function(t,r,o,i){if(!d.isBuffer(t))throw new TypeError("argument should be a Buffer");if(o||(o=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<o&&(i=o),i===o||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-o&&(i=t.length-r+o);var l=i-o;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,o,i):Uint8Array.prototype.set.call(t,this.subarray(o,i),r),l};d.prototype.fill=function(t,r,o,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,o=this.length):typeof o=="string"&&(i=o,o=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var l=t.charCodeAt(0);(i==="utf8"&&l<128||i==="latin1")&&(t=l)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<o)throw new RangeError("Out of range index");if(o<=r)return this;r=r>>>0,o=o===void 0?this.length:o>>>0,t||(t=0);var p;if(typeof t=="number")for(p=r;p<o;++p)this[p]=t;else{var u=d.isBuffer(t)?t:d.from(t,i),m=u.length;if(m===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(p=0;p<o-r;++p)this[p+r]=u[p%m]}return this};var Cl=/[^+/0-9A-Za-z-_]/g;function Dl(e){if(e=e.split("=")[0],e=e.trim().replace(Cl,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function on(e,t){t=t||1/0;for(var r,o=e.length,i=null,l=[],p=0;p<o;++p){if(r=e.charCodeAt(p),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&l.push(239,191,189);continue}else if(p+1===o){(t-=3)>-1&&l.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&l.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&l.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;l.push(r)}else if(r<2048){if((t-=2)<0)break;l.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;l.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;l.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return l}function _l(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Ol(e,t){for(var r,o,i,l=[],p=0;p<e.length&&!((t-=2)<0);++p)r=e.charCodeAt(p),o=r>>8,i=r%256,l.push(i),l.push(o);return l}function qo(e){return tn.toByteArray(Dl(e))}function er(e,t,r,o){for(var i=0;i<o&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ce(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function cn(e){return e!==e}var Ml=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var o=r*16,i=0;i<16;++i)t[o+i]=e[r]+e[i];return t}()});var Zo=X((Od,Yo)=>{n();var O=Yo.exports={},le,pe;function ln(){throw new Error("setTimeout has not been defined")}function pn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?le=setTimeout:le=ln}catch(e){le=ln}try{typeof clearTimeout=="function"?pe=clearTimeout:pe=pn}catch(e){pe=pn}})();function zo(e){if(le===setTimeout)return setTimeout(e,0);if((le===ln||!le)&&setTimeout)return le=setTimeout,setTimeout(e,0);try{return le(e,0)}catch(t){try{return le.call(null,e,0)}catch(r){return le.call(this,e,0)}}}function Fl(e){if(pe===clearTimeout)return clearTimeout(e);if((pe===pn||!pe)&&clearTimeout)return pe=clearTimeout,clearTimeout(e);try{return pe(e)}catch(t){try{return pe.call(null,e)}catch(r){return pe.call(this,e)}}}var Se=[],ct=!1,We,tr=-1;function Ul(){!ct||!We||(ct=!1,We.length?Se=We.concat(Se):tr=-1,Se.length&&Ko())}function Ko(){if(!ct){var e=zo(Ul);ct=!0;for(var t=Se.length;t;){for(We=Se,Se=[];++tr<t;)We&&We[tr].run();tr=-1,t=Se.length}We=null,ct=!1,Fl(e)}}O.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Se.push(new Xo(e,t)),Se.length===1&&!ct&&zo(Ko)};function Xo(e,t){this.fun=e,this.array=t}Xo.prototype.run=function(){this.fun.apply(null,this.array)};O.title="browser";O.browser=!0;O.env={};O.argv=[];O.version="";O.versions={};function we(){}O.on=we;O.addListener=we;O.once=we;O.off=we;O.removeListener=we;O.removeAllListeners=we;O.emit=we;O.prependListener=we;O.prependOnceListener=we;O.listeners=function(e){return[]};O.binding=function(e){throw new Error("process.binding is not supported")};O.cwd=function(){return"/"};O.chdir=function(e){throw new Error("process.chdir is not supported")};O.umask=function(){return 0}});var s,c,Bl,a,n=x(()=>{s=b(jo()),c=b(Zo()),Bl=function(e){function t(){var o=this||self;return delete e.prototype.__magic__,o}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),a=Bl});var Jo=x(()=>{"use strict";n()});var rr,Qo,un=x(()=>{"use strict";n();rr="Transaction canceled",Qo="You cannot sign transactions from a different account"});var ei=x(()=>{"use strict";n()});var dn,ti=x(()=>{"use strict";n();dn=(o=>(o.SetGuardian="SetGuardian",o.GuardAccount="GuardAccount",o.UnGuardAccount="UnGuardAccount",o))(dn||{})});var ri=x(()=>{"use strict";n()});var mn,gn=x(()=>{"use strict";n();mn={36864:{code:"codeSuccess",message:"Success"},27013:{code:"ERR_USER_DENIED",message:"Rejected by user"},27904:{code:"ERR_UNKNOWN_INSTRUCTION",message:"Unknown instruction"},28160:{code:"ERR_WRONG_CLA",message:"Wrong CLA"},28161:{code:"ERR_INVALID_ARGUMENTS",message:"Invalid arguments"},28162:{code:"ERR_INVALID_MESSAGE",message:"Invalid message"},28163:{code:"ERR_INVALID_P1",message:"Invalid P1"},28164:{code:"ERR_MESSAGE_TOO_LONG",message:"Message too long"},28165:{code:"ERR_RECEIVER_TOO_LONG",message:"Receiver too long"},28166:{code:"ERR_AMOUNT_TOO_LONG",message:"Amount too long"},28167:{code:"ERR_CONTRACT_DATA_DISABLED",message:"Contract data disabled in app options"},28168:{code:"ERR_MESSAGE_INCOMPLETE",message:"Message incomplete"},28176:{code:"ERR_SIGNATURE_FAILED",message:"Signature failed"},28169:{code:"ERR_WRONG_TX_VERSION",message:"Wrong TX version"},28170:{code:"ERR_NONCE_TOO_LONG",message:"Nonce too long"},28171:{code:"ERR_INVALID_AMOUNT",message:"Invalid amount"},28172:{code:"ERR_INVALID_FEE",message:"Invalid fee"},28173:{code:"ERR_PRETTY_FAILED",message:"Pretty failed"},28174:{code:"ERR_DATA_TOO_LONG",message:"Data too long"},28175:{code:"ERR_WRONG_TX_OPTIONS",message:"Invalid transaction options"},28177:{code:"ERR_SIGN_TX_DEPRECATED",message:"Regular transaction signing is deprecated in this version. Use hash signing."}}});var ni=x(()=>{"use strict";n()});var fn,Tn=x(()=>{"use strict";n();fn=(i=>(i.signature="signature",i.sessionId="sessionId",i.status="status",i.address="address",i))(fn||{})});var oi=x(()=>{"use strict";n()});var ii=x(()=>{"use strict";n()});var ve,lt,Pt=x(()=>{"use strict";n();ve=require("@multiversx/sdk-web-wallet-cross-window-provider/out/CrossWindowProvider/CrossWindowProvider"),lt=require("@multiversx/sdk-web-wallet-cross-window-provider/out/enums")});var si,zd,ai,Kd,Q=x(()=>{"use strict";n();Pt();si=(r=>(r.signTransactionsWithGuardianResponse="SIGN_TRANSACTIONS_WITH_GUARDIAN_RESPONSE",r.reloginRequest="RELOGIN_REQUEST",r))(si||{}),zd=f(f({},lt.WindowProviderRequestEnums),si),ai=(t=>(t.reloginResponse="RELOGIN_RESPONSE",t))(ai||{}),Kd=f(f({},lt.WindowProviderResponseEnums),ai)});var ci=x(()=>{"use strict";n()});var li=x(()=>{"use strict";n()});var H=x(()=>{"use strict";n()});var pi=x(()=>{"use strict";n()});var ui=x(()=>{"use strict";n()});var di=x(()=>{"use strict";n()});var B=x(()=>{"use strict";n();Tn();oi();ii();Q();ci();li();H();pi();ui();di()});var Ge,mi,um,gi,dm,fi,mm,gm,Ti,Lt=x(()=>{"use strict";n();B();Ge={devnet:{id:"devnet",chainId:"D",name:"Devnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://devnet-wallet.multiversx.com",xAliasAddress:"https://devnet.xalias.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"http://devnet-explorer.multiversx.com",metamaskSnapWalletAddress:"https://devnet-iframe-wallet.multiversx.com",apiTimeout:"4000",roundDuration:6e3},testnet:{id:"testnet",chainId:"T",name:"Testnet",egldLabel:"xEGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://testnet-wallet.multiversx.com",xAliasAddress:"https://testnet.xalias.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"http://testnet-explorer.multiversx.com",metamaskSnapWalletAddress:"https://testnet-iframe-wallet.multiversx.com",apiTimeout:"4000",roundDuration:6e3},mainnet:{id:"mainnet",chainId:"1",name:"Mainnet",egldLabel:"EGLD",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",walletConnectBridgeAddresses:["https://bridge.walletconnect.org"],walletConnectV2RelayAddresses:["wss://relay.walletconnect.com"],walletAddress:"https://wallet.multiversx.com",xAliasAddress:"https://xalias.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",metamaskSnapWalletAddress:"https://iframe-wallet.multiversx.com",apiTimeout:"4000",roundDuration:6e3}},{chainId:mi,egldLabel:um}=Ge["devnet"],{chainId:gi,egldLabel:dm}=Ge["testnet"],{chainId:fi,egldLabel:mm}=Ge["mainnet"],gm={["devnet"]:mi,["testnet"]:gi,["mainnet"]:fi},Ti={[mi]:"devnet",[gi]:"testnet",[fi]:"mainnet"}});var yn=x(()=>{"use strict";n()});var ue,yi=x(()=>{"use strict";n();ue=require("@multiversx/sdk-web-wallet-provider")});var Pe,hn=x(()=>{"use strict";n();Pe=require("@multiversx/sdk-dapp-utils/out/constants/browserConstants")});var hi,xi,xn,Sm,wm,Si=x(()=>{"use strict";n();hn();xn=String((xi=(hi=Pe.safeWindow)==null?void 0:hi.navigator)==null?void 0:xi.userAgent),Sm=/^((?!chrome|android).)*safari/i.test(xn),wm=/firefox/i.test(xn)&&/windows/i.test(xn)});var nr,or,wi,vi,Ai,Le,ir,sr,Ii,pt,P=x(()=>{"use strict";n();Jo();un();ei();ti();ri();gn();ni();Lt();yn();yi();Si();nr=5e4,or=1e9,wi=1,vi=1,Ai="/dapp/init",Le="signSession",ir="sdk-dapp-version",sr="logout",Ii="login",pt="0"});var Nt,ar=x(()=>{"use strict";n();Nt=()=>Date.now()/1e3});var bi=x(()=>{"use strict";n()});var ki=x(()=>{"use strict";n()});var Ei=x(()=>{"use strict";n();ar();bi();ki()});var Sn={};Fe(Sn,{clear:()=>$l,getItem:()=>Gl,localStorageKeys:()=>ne,removeItem:()=>Vl,setItem:()=>Wl});var ne,cr,Wl,Gl,Vl,$l,ut=x(()=>{"use strict";n();Ei();ne={loginExpiresAt:"sdk-dapp-login-expires-at",logoutEvent:"sdk-dapp-logout-event"},cr=typeof localStorage!="undefined",Wl=({key:e,data:t,expires:r})=>{!cr||localStorage.setItem(String(e),JSON.stringify({expires:r,data:t}))},Gl=e=>{if(!cr)return;let t=localStorage.getItem(String(e));if(!t)return null;let r=JSON.parse(t);return!r||!r.hasOwnProperty("expires")||!r.hasOwnProperty("data")?null:Nt()>=r.expires?(localStorage.removeItem(String(e)),null):r.data},Vl=e=>{!cr||localStorage.removeItem(String(e))},$l=()=>{!cr||localStorage.clear()}});var wn={};Fe(wn,{clear:()=>Ri,getItem:()=>Li,removeItem:()=>Ni,setItem:()=>Pi,storage:()=>Hl});var Pi,Li,Ni,Ri,Hl,Ci=x(()=>{"use strict";n();Pi=({key:e,data:t,expires:r})=>{sessionStorage.setItem(String(e),JSON.stringify({expires:r,data:t}))},Li=e=>{let t=sessionStorage.getItem(String(e));if(!t)return null;let r=JSON.parse(t);return!r||!r.hasOwnProperty("expires")||!r.hasOwnProperty("data")?null:Date.now()>=r.expires?(sessionStorage.removeItem(String(e)),null):r.data},Ni=e=>sessionStorage.removeItem(String(e)),Ri=()=>sessionStorage.clear(),Hl={setItem:Pi,getItem:Li,removeItem:Ni,clear:Ri}});var de,Rt=x(()=>{"use strict";n();ut();Ci();de={session:wn,local:Sn}});var vn,N,Ve,G=x(()=>{"use strict";n();vn=require("@reduxjs/toolkit");P();N=(0,vn.createAction)(sr),Ve=(0,vn.createAction)(Ii,e=>({payload:e}))});var In,Di,_i,lr,An,Oi,bn,Jm,kn,Qm,eg,tg,rg,ng,og,ig,sg,pr,ur=x(()=>{"use strict";n();In=require("@multiversx/sdk-core"),Di=require("@reduxjs/toolkit"),_i=require("redux-persist");P();Rt();ut();G();lr={balance:"...",address:"",isGuarded:!1,nonce:0,txCount:0,scrCount:0,claimableRewards:pt},An={address:"",websocketEvent:null,websocketBatchEvent:null,accounts:{"":lr},ledgerAccount:null,publicKey:"",walletConnectAccount:null,isAccountLoading:!0,accountLoadingError:null},Oi=(0,Di.createSlice)({name:"accountInfoSlice",initialState:An,reducers:{setAddress:(e,t)=>{let r=t.payload;e.address=r,e.publicKey=r?new In.Address(r).hex():""},setAccount:(e,t)=>{let r=e.address===t.payload.address;e.accounts={[e.address]:r?t.payload:lr},e.shard=t.payload.shard,e.isAccountLoading=!1,e.accountLoadingError=null},setAccountNonce:(e,t)=>{let{address:r}=e;e.accounts[r].nonce=t.payload},setAccountShard:(e,t)=>{e.shard=t.payload},setLedgerAccount:(e,t)=>{e.ledgerAccount=t.payload},updateLedgerAccount:(e,t)=>{e.ledgerAccount!=null&&(e.ledgerAccount.index=t.payload.index,e.ledgerAccount.address=t.payload.address)},setWalletConnectAccount:(e,t)=>{e.walletConnectAccount=t.payload},setIsAccountLoading:(e,t)=>{e.isAccountLoading=t.payload,e.accountLoadingError=null},setAccountLoadingError:(e,t)=>{e.accountLoadingError=t.payload,e.isAccountLoading=!1},setWebsocketEvent:(e,t)=>{e.websocketEvent={timestamp:Date.now(),message:t.payload}},setWebsocketBatchEvent:(e,t)=>{e.websocketBatchEvent={timestamp:Date.now(),data:t.payload}}},extraReducers:e=>{e.addCase(N,()=>(de.local.removeItem(ne.loginExpiresAt),An)),e.addCase(Ve,(t,r)=>{let{address:o}=r.payload;t.address=o,t.publicKey=new In.Address(o).hex()}),e.addCase(_i.REHYDRATE,(t,r)=>{var g;if(!((g=r.payload)!=null&&g.account))return;let{account:o}=r.payload,{address:i,shard:l,accounts:p,publicKey:u}=o;t.address=i,t.shard=l;let m=p&&i in p;t.accounts=m?p:An.accounts,t.publicKey=u})}}),{setAccount:bn,setAddress:Jm,setAccountNonce:kn,setAccountShard:Qm,setLedgerAccount:eg,updateLedgerAccount:tg,setWalletConnectAccount:rg,setIsAccountLoading:ng,setAccountLoadingError:og,setWebsocketEvent:ig,setWebsocketBatchEvent:sg}=Oi.actions,pr=Oi.reducer});function Ct(){return new Date().setHours(new Date().getHours()+24)}function Dt(e){de.local.setItem({key:ne.loginExpiresAt,data:e,expires:e})}var En=x(()=>{"use strict";n();Rt();ut()});var Fi,Mi,Ui,Tg,yg,hg,Bi,xg,Sg,Wi,wg,vg,Ag,dr,mr=x(()=>{"use strict";n();Fi=require("@reduxjs/toolkit");En();Q();G();Mi={loginMethod:"",walletConnectLogin:null,ledgerLogin:null,tokenLogin:null,walletLogin:null,extensionLogin:null,passkeyLogin:null,operaLogin:null,crossWindowLogin:null,iframeWindowLogin:null,isLoginSessionInvalid:!1,webviewLogin:null},Ui=(0,Fi.createSlice)({name:"loginInfoSlice",initialState:Mi,reducers:{setLoginMethod:(e,t)=>{e.loginMethod=t.payload},setTokenLogin:(e,t)=>{e.tokenLogin=t.payload},setTokenLoginSignature:(e,t)=>{(e==null?void 0:e.tokenLogin)!=null&&(e.tokenLogin.signature=t.payload)},setWalletLogin:(e,t)=>{e.walletLogin=t.payload},setWalletConnectLogin:(e,t)=>{e.walletConnectLogin=t.payload},setLedgerLogin:(e,t)=>{e.ledgerLogin=t.payload},setWebviewLogin:(e,t)=>{e.webviewLogin=t.payload},invalidateLoginSession:e=>{e.isLoginSessionInvalid=!0},setLogoutRoute:(e,t)=>{e.logoutRoute=t.payload},setIsWalletConnectV2Initialized:(e,t)=>{e.isWalletConnectV2Initialized=t.payload}},extraReducers:e=>{e.addCase(N,()=>Mi),e.addCase(Ve,(t,r)=>{t.isLoginSessionInvalid=!1,t.loginMethod=r.payload.loginMethod,t.iframeLoginType=r.payload.iframeLoginType,Dt(Ct())})}}),{setLoginMethod:Tg,setWalletConnectLogin:yg,setLedgerLogin:hg,setTokenLogin:Bi,setTokenLoginSignature:xg,setWalletLogin:Sg,invalidateLoginSession:Wi,setLogoutRoute:wg,setIsWalletConnectV2Initialized:vg,setWebviewLogin:Ag}=Ui.actions,dr=Ui.reducer});var Vi,Gi,$i,Eg,ql,Pg,Lg,gr,fr=x(()=>{"use strict";n();Vi=require("@reduxjs/toolkit");G();Gi={},$i=(0,Vi.createSlice)({name:"modalsSlice",initialState:Gi,reducers:{setTxSubmittedModal:(e,t)=>{e.txSubmittedModal=t.payload},setNotificationModal:(e,t)=>{e.notificationModal=t.payload},clearTxSubmittedModal:e=>{e.txSubmittedModal=void 0},clearNotificationModal:e=>{e.notificationModal=void 0}},extraReducers:e=>{e.addCase(N,()=>Gi)}}),{setTxSubmittedModal:Eg,setNotificationModal:ql,clearTxSubmittedModal:Pg,clearNotificationModal:Lg}=$i.actions,gr=$i.reducer});var He,Tr=x(()=>{"use strict";n();He=()=>typeof window!="undefined"&&typeof(window==null?void 0:window.location)!="undefined"});var D,ee=x(()=>{"use strict";n();Tr();D=()=>{if(!He())return{pathname:"",hash:"",origin:"",href:"",search:""};let{location:{pathname:t,hash:r,origin:o,href:i,search:l}}=window;return{pathname:t,hash:r,origin:o,href:i,search:l}}});var Pn,Hi=x(()=>{"use strict";n();ee();Pn=(e="")=>{let t=D(),r=e.startsWith("http")||e.startsWith("www.");return!t.origin||e.startsWith(t.origin)||r?e:`${t.origin}/${e.replace("/","")}`}});var qi=x(()=>{"use strict";n();qe()});var ji,zi=x(()=>{"use strict";n();hn();ji=e=>{if(!Pe.safeWindow.location)return;if(!new URL(Pe.safeWindow.location.href).protocol.startsWith("http"))return Pe.safeWindow.location.reload();Pe.safeWindow.location.assign(e)}});var qe=x(()=>{"use strict";n();Hi();qi();ee();zi()});var Ki,Xi,_t,yr=x(()=>{"use strict";n();qe();Ki=!1,Xi=(e=!0)=>{Ki=e},_t=({timeout:e=0,url:t})=>{Ki||setTimeout(()=>{if(!!window)return ji(t)},e)}});var Yi=x(()=>{"use strict";n();yr()});function Zi(e){return e[Math.floor(Math.random()*e.length)]}var Ji=x(()=>{"use strict";n()});function es(e){let t=null;if((e==null?void 0:e.statusCode)in mn){let r=e==null?void 0:e.statusCode,{message:o}=mn[r];t=Kl.includes(r)?Qi:o}return{errorMessage:t,defaultErrorMessage:Qi}}var Qi,jl,zl,Kl,Ln=x(()=>{"use strict";n();gn();Qi="Check if the MultiversX app is open on Ledger",jl=28161,zl=28160,Kl=[jl,zl]});var ts=x(()=>{"use strict";n();Yi();Ji();Ln()});var rs,ns,os,Nn,Yl,is,af,cf,lf,hr,xr=x(()=>{"use strict";n();rs=require("@reduxjs/toolkit"),ns=b(require("lodash.omit")),os=require("redux-persist");yn();G();ts();Nn={id:"not-configured",chainId:"",name:"NOT CONFIGURED",egldLabel:"",decimals:"18",digits:"4",gasPerDataByte:"1500",walletConnectDeepLink:"",walletConnectBridgeAddress:"",walletConnectV2RelayAddress:"",walletConnectV2ProjectId:"",walletConnectV2Options:{},walletAddress:"",apiAddress:"",explorerAddress:"",apiTimeout:"4000",roundDuration:6e3},Yl={network:Nn},is=(0,rs.createSlice)({name:"appConfig",initialState:Yl,reducers:{initializeNetworkConfig:(e,t)=>{let r=Zi(t.payload.walletConnectV2RelayAddresses),o=(0,ns.default)(t.payload,"walletConnectV2RelayAddresses");e.network=I(f(f({},e.network),o),{walletConnectV2RelayAddress:r})},updateNetworkConfig:(e,t)=>{e.network=f(f({},e.network),t.payload)},setCustomWalletAddress:(e,t)=>{e.network.customWalletAddress=t.payload}},extraReducers:e=>{e.addCase(N,t=>{t.network.customWalletAddress=void 0}),e.addCase(os.REHYDRATE,(t,r)=>{var i,l;if(!((l=(i=r.payload)==null?void 0:i.network)!=null&&l.customWalletAddress))return;let{network:{customWalletAddress:o}}=r.payload;t.network.customWalletAddress=o})}}),{initializeNetworkConfig:af,updateNetworkConfig:cf,setCustomWalletAddress:lf}=is.actions,hr=is.reducer});var ss,Rn,as,ff,Tf,yf,Sr,wr=x(()=>{"use strict";n();ss=require("@reduxjs/toolkit");B();G();Rn={isSigning:!1,signedSessions:{}},as=(0,ss.createSlice)({name:"signedMessageInfoSliceState",initialState:Rn,reducers:{setSignSession:(e,t)=>{let{sessionId:r,signedSession:o,errorMessage:i}=t.payload;i&&(e.errorMessage=i),e.isSigning=o.status==="pending",e.signedSessions[r]=f(f({},e.signedSessions[r]),o)},setSignSessionState:(e,t)=>f(f({},e),t.payload),clearSignedMessageInfo:()=>Rn},extraReducers:e=>{e.addCase(N,()=>Rn)}}),{setSignSession:ff,clearSignedMessageInfo:Tf,setSignSessionState:yf}=as.actions,Sr=as.reducer});var ls,ps,cs,us,If,bf,kf,Zl,vr,Ar=x(()=>{"use strict";n();ls=require("@reduxjs/toolkit"),ps=require("redux-persist");B();ar();G();cs={customToasts:[],transactionToasts:[]},us=(0,ls.createSlice)({name:"toastsSlice",initialState:cs,reducers:{addCustomToast:(e,t)=>{let r=t.payload.toastId||`custom-toast-${e.customToasts.length+1}`,o=e.customToasts.findIndex(i=>i.toastId===r);if(o!==-1){e.customToasts[o]=I(f(f({},e.customToasts[o]),t.payload),{type:"custom",toastId:r});return}e.customToasts.push(I(f({},t.payload),{type:"custom",toastId:r}))},removeCustomToast:(e,t)=>{e.customToasts=e.customToasts.filter(r=>r.toastId!==t.payload)},addTransactionToast:(e,t)=>{e.transactionToasts.push({type:"transaction",startTimestamp:Nt(),toastId:t.payload||`custom-toast-${e.transactionToasts.length+1}`})},removeTransactionToast:(e,t)=>{e.transactionToasts=e.transactionToasts.filter(r=>r.toastId!==t.payload)}},extraReducers:e=>{e.addCase(N,()=>cs),e.addCase(ps.REHYDRATE,(t,r)=>{var i,l;let o=(l=(i=r.customToasts)==null?void 0:i.filter(p=>!("component"in p)))!=null?l:[];t.customToasts=o})}}),{addCustomToast:If,removeCustomToast:bf,addTransactionToast:kf,removeTransactionToast:Zl}=us.actions,vr=us.reducer});var ds,Dn,_n,On,Jl,Cn,ms,Nf,Ql,Ir,br,kr=x(()=>{"use strict";n();ds=require("@reduxjs/toolkit");G();Dn="Transaction failed",_n="Transaction successful",On="Processing transaction",Jl="Transaction submitted",Cn={},ms=(0,ds.createSlice)({name:"transactionsInfo",initialState:Cn,reducers:{setTransactionsDisplayInfo(e,t){let{sessionId:r,transactionsDisplayInfo:o}=t.payload;r!=null&&(e[r]={errorMessage:(o==null?void 0:o.errorMessage)||Dn,successMessage:(o==null?void 0:o.successMessage)||_n,processingMessage:(o==null?void 0:o.processingMessage)||On,submittedMessage:(o==null?void 0:o.submittedMessage)||Jl,transactionDuration:o==null?void 0:o.transactionDuration})},clearTransactionsInfoForSessionId(e,t){t.payload!=null&&delete e[t.payload]},clearTransactionsInfo:()=>Cn},extraReducers:e=>{e.addCase(N,()=>Cn)}}),{clearTransactionsInfo:Nf,setTransactionsDisplayInfo:Ql,clearTransactionsInfoForSessionId:Ir}=ms.actions,br=ms.reducer});function gs(e){return e!=null&&(lp(e)||gp(e))}function Er(e){return e!=null&&(pp(e)||fp(e))}function Pr(e){return e!=null&&(up(e)||Tp(e))}function fs(e){return e!=null&&(dp(e)||yp(e))}function Ts(e){return e!=null&&mp(e)}function lp(e){return e!=null&&ep.includes(e)}function pp(e){return e!=null&&tp.includes(e)}function up(e){return e!=null&&rp.includes(e)}function dp(e){return e!=null&&np.includes(e)}function mp(e){return e!=null&&op.includes(e)}function gp(e){return e!=null&&ip.includes(e)}function fp(e){return e!=null&&sp.includes(e)}function Tp(e){return e!=null&&ap.includes(e)}function yp(e){return e!=null&&cp.includes(e)}var ep,tp,rp,np,op,ip,sp,ap,cp,Un=x(()=>{"use strict";n();Q();ep=["sent"],tp=["success"],rp=["fail","cancelled","timedOut"],np=["invalid"],op=["timedOut"],ip=["pending"],sp=["success"],ap=["fail","invalid"],cp=["not executed"]});var ys,hs,Ot,hp,xs,Bf,Wf,xp,dt,Sp,wp,Gf,Ss,je,mt,Vf,Lr,Nr=x(()=>{"use strict";n();ys=require("@reduxjs/toolkit"),hs=require("redux-persist");Q();Un();G();Ot={signedTransactions:{},transactionsToSign:null,signTransactionsError:null,signTransactionsCancelMessage:null,customTransactionInformationForSessionId:{}},hp={signWithoutSending:!1,sessionInformation:null,redirectAfterSign:!1},xs=(0,ys.createSlice)({name:"transactionsSlice",initialState:Ot,reducers:{moveTransactionsToSignedState:(e,t)=>{var m,g;let{sessionId:r,transactions:o,errorMessage:i,status:l,redirectRoute:p,customTransactionInformation:u}=t.payload;e.customTransactionInformationForSessionId[r]=f(f(f({},hp),((m=e.signedTransactions[r])==null?void 0:m.customTransactionInformation)||{}),e.customTransactionInformationForSessionId[r]||{}),e.signedTransactions[r]={transactions:o,status:l,errorMessage:i,redirectRoute:p,customTransactionInformation:f(f({},e.customTransactionInformationForSessionId[r]),u!=null?u:{})},((g=e==null?void 0:e.transactionsToSign)==null?void 0:g.sessionId)===r&&(e.transactionsToSign=Ot.transactionsToSign)},clearSignedTransaction:(e,t)=>{e.signedTransactions[t.payload]&&delete e.signedTransactions[t.payload]},clearTransactionToSign:e=>{e!=null&&e.transactionsToSign&&(e.transactionsToSign=null)},updateSignedTransaction:(e,t)=>{e.signedTransactions=f(f({},e.signedTransactions),t.payload)},updateSignedTransactions:(e,t)=>{let{sessionId:r,status:o,errorMessage:i,transactions:l}=t.payload;e.signedTransactions[r]!=null&&(e.signedTransactions[r].status=o,i!=null&&(e.signedTransactions[r].errorMessage=i),l!=null&&(e.signedTransactions[r].transactions=l))},updateSignedTransactionStatus:(e,t)=>{var g,y,T,w,v,A,_,E;let{sessionId:r,status:o,errorMessage:i,transactionHash:l,serverTransaction:p,inTransit:u}=t.payload,m=(y=(g=e.signedTransactions)==null?void 0:g[r])==null?void 0:y.transactions;if(m!=null){e.signedTransactions[r].transactions=m.map(C=>C.hash===l?I(f(f({},p!=null?p:{}),C),{status:o,errorMessage:i,inTransit:u}):C);let z=(w=(T=e.signedTransactions[r])==null?void 0:T.transactions)==null?void 0:w.every(C=>Er(C.status)),M=(A=(v=e.signedTransactions[r])==null?void 0:v.transactions)==null?void 0:A.some(C=>Pr(C.status)),F=(E=(_=e.signedTransactions[r])==null?void 0:_.transactions)==null?void 0:E.every(C=>fs(C.status));z&&(e.signedTransactions[r].status="success"),M&&(e.signedTransactions[r].status="fail"),F&&(e.signedTransactions[r].status="invalid")}},setTransactionsToSign:(e,t)=>{e.transactionsToSign=t.payload;let{sessionId:r,customTransactionInformation:o}=t.payload;e.customTransactionInformationForSessionId[r]=o,e.signTransactionsError=null},clearAllTransactionsToSign:e=>{e.transactionsToSign=Ot.transactionsToSign,e.signTransactionsError=null},clearAllSignedTransactions:e=>{e.signedTransactions=Ot.signedTransactions},setSignTransactionsError:(e,t)=>{e.signTransactionsError=t.payload},setSignTransactionsCancelMessage:(e,t)=>{e.signTransactionsCancelMessage=t.payload},updateSignedTransactionsCustomTransactionInformation:(e,t)=>{let{sessionId:r,customTransactionInformationOverrides:o}=t.payload;e.signedTransactions[r]!=null&&(e.signedTransactions[r].customTransactionInformation=f(f({},e.signedTransactions[r].customTransactionInformation),o))}},extraReducers:e=>{e.addCase(N,()=>Ot),e.addCase(hs.REHYDRATE,(t,r)=>{var p;if(t.signTransactionsCancelMessage=null,!((p=r.payload)!=null&&p.transactions))return;let{signedTransactions:o,customTransactionInformationForSessionId:i}=r.payload.transactions,l=Object.entries(o).reduce((u,[m,g])=>{let y=new Date(m),T=new Date;return T.setHours(T.getHours()+5),T-y>0||(u[m]=g),u},{});i!=null&&(t.customTransactionInformationForSessionId=i),o!=null&&(t.signedTransactions=l)})}}),{updateSignedTransactionStatus:Bf,updateSignedTransactions:Wf,setTransactionsToSign:xp,clearAllTransactionsToSign:dt,clearAllSignedTransactions:Sp,clearSignedTransaction:wp,clearTransactionToSign:Gf,setSignTransactionsError:Ss,setSignTransactionsCancelMessage:je,moveTransactionsToSignedState:mt,updateSignedTransactionsCustomTransactionInformation:Vf}=xs.actions,Lr=xs.reducer});var ws,Bn,vs,jf,zf,vp,Kf,Rr,Cr=x(()=>{"use strict";n();ws=require("@reduxjs/toolkit");G();Bn={},vs=(0,ws.createSlice)({name:"batchTransactionsSlice",initialState:Bn,reducers:{setBatchTransactions:(e,t)=>{e[t.payload.id]=t.payload},updateBatchTransactions:(e,t)=>{e[t.payload.id]=t.payload},clearBatchTransactions:(e,t)=>{delete e[t.payload.batchId]},clearAllBatchTransactions:()=>Bn},extraReducers:e=>{e.addCase(N,()=>Bn)}}),{setBatchTransactions:jf,updateBatchTransactions:zf,clearBatchTransactions:vp,clearAllBatchTransactions:Kf}=vs.actions,Rr=vs.reducer});var Is,As,bs,Jf,ks,Wn=x(()=>{"use strict";n();Is=require("@reduxjs/toolkit");G();As={},bs=(0,Is.createSlice)({name:"dappConfigSlice",initialState:As,reducers:{setDappConfig:(e,t)=>t.payload},extraReducers:e=>{e.addCase(N,()=>As)}}),{setDappConfig:Jf}=bs.actions,ks=bs.reducer});var V=x(()=>{"use strict";n();ur();mr();fr();xr();wr();Ar();kr();Nr();Cr();Wn()});var Hn=x(()=>{"use strict";n()});var qs,Cp,Dp,Ye,Ur=x(()=>{"use strict";n();qs=require("@reduxjs/toolkit");Hn();ur();Cr();Wn();mr();fr();xr();wr();Ar();kr();Nr();Cp={["account"]:pr,["dappConfig"]:ks,["loginInfo"]:dr,["modals"]:gr,["networkConfig"]:hr,["signedMessageInfo"]:Sr,["toasts"]:vr,["transactionsInfo"]:br,["transactions"]:Lr,["batchTransactions"]:Rr},Dp=(e={})=>(0,qs.combineReducers)(f(f({},Cp),e)),Ye=Dp});var Xs={};Fe(Xs,{default:()=>Xp,sessionStorageReducers:()=>qn});function Ae(e,t=[]){return{key:e,version:1,storage:zs.default,blacklist:t}}var j,js,zs,_p,Bt,Op,Mp,Fp,Up,Bp,Wp,Gp,Vp,$p,Hp,Ks,qp,qn,jp,zp,Kp,Xp,Ys=x(()=>{"use strict";n();j=require("redux-persist"),js=b(require("redux-persist/lib/storage")),zs=b(require("redux-persist/lib/storage/session"));Ur();V();ur();Cr();mr();fr();xr();wr();Ar();kr();Nr();Hn();_p={persistReducersStorageType:"localStorage"},Bt={["account"]:"sdk-dapp-account",["loginInfo"]:"sdk-dapp-login-info",["modals"]:"sdk-dapp-modals",["networkConfig"]:"sdk-dapp-network-config"},Op=Ae(Bt["account"]),Mp=Ae(Bt["loginInfo"]),Fp=Ae(Bt["modals"]),Up=Ae(Bt["networkConfig"]),Bp={2:e=>I(f({},e),{networkConfig:Nn})};Wp=Ae("sdk-dapp-transactionsInfo"),Gp=Ae("sdk-dapp-transactions",["transactionsToSign"]),Vp=Ae("sdk-dapp-batchTransactions",["batchTransactions"]),$p=Ae("sdk-dapp-toasts"),Hp=Ae("sdk-dapp-signedMessageInfo"),Ks={key:"sdk-dapp-store",version:2,storage:js.default,whitelist:Object.keys(Bt),migrate:(0,j.createMigrate)(Bp,{debug:!1})},qp=I(f({},Ks),{whitelist:[]}),qn={["toasts"]:(0,j.persistReducer)($p,vr),["transactions"]:(0,j.persistReducer)(Gp,Lr),["transactionsInfo"]:(0,j.persistReducer)(Wp,br),["batchTransactions"]:(0,j.persistReducer)(Vp,Rr),["signedMessageInfo"]:(0,j.persistReducer)(Hp,Sr)},jp=I(f({},qn),{["account"]:(0,j.persistReducer)(Op,pr),["loginInfo"]:(0,j.persistReducer)(Mp,dr),["modals"]:(0,j.persistReducer)(Fp,gr),["networkConfig"]:(0,j.persistReducer)(Up,hr)}),zp=_p.persistReducersStorageType==="localStorage",Kp=zp?(0,j.persistReducer)(Ks,Ye(qn)):(0,j.persistReducer)(qp,Ye(jp)),Xp=Kp});var Zs={};Fe(Zs,{default:()=>Yp});var Yp,Js=x(()=>{"use strict";n();Ur();Yp=Ye()});var Qs={};Fe(Qs,{default:()=>Jp});var te,Zp,Jp,ea=x(()=>{"use strict";n();te=require("redux-persist"),Zp=[te.FLUSH,te.REHYDRATE,te.PAUSE,te.PERSIST,te.PURGE,te.REGISTER],Jp=Zp});var na={};Fe(na,{default:()=>ra});function ra(e){return(0,ta.persistStore)(e)}var ta,oa=x(()=>{"use strict";n();ta=require("redux-persist")});var nc=X((R0,rc)=>{n();var Hu=typeof a=="object"&&a&&a.Object===Object&&a;rc.exports=Hu});var ic=X((C0,oc)=>{n();var qu=nc(),ju=typeof self=="object"&&self&&self.Object===Object&&self,zu=qu||ju||Function("return this")();oc.exports=zu});var po=X((D0,sc)=>{n();var Ku=ic(),Xu=Ku.Symbol;sc.exports=Xu});var pc=X((_0,lc)=>{n();var ac=po(),cc=Object.prototype,Yu=cc.hasOwnProperty,Zu=cc.toString,Kt=ac?ac.toStringTag:void 0;function Ju(e){var t=Yu.call(e,Kt),r=e[Kt];try{e[Kt]=void 0;var o=!0}catch(l){}var i=Zu.call(e);return o&&(t?e[Kt]=r:delete e[Kt]),i}lc.exports=Ju});var dc=X((O0,uc)=>{n();var Qu=Object.prototype,ed=Qu.toString;function td(e){return ed.call(e)}uc.exports=td});var Tc=X((M0,fc)=>{n();var mc=po(),rd=pc(),nd=dc(),od="[object Null]",id="[object Undefined]",gc=mc?mc.toStringTag:void 0;function sd(e){return e==null?e===void 0?id:od:gc&&gc in Object(e)?rd(e):nd(e)}fc.exports=sd});var hc=X((F0,yc)=>{n();var ad=Array.isArray;yc.exports=ad});var Sc=X((U0,xc)=>{n();function cd(e){return e!=null&&typeof e=="object"}xc.exports=cd});var vc=X((B0,wc)=>{n();var ld=Tc(),pd=hc(),ud=Sc(),dd="[object String]";function md(e){return typeof e=="string"||!pd(e)&&ud(e)&&ld(e)==dd}wc.exports=md});var Nd={};Fe(Nd,{useSignTransactionsWithLedger:()=>Ld});module.exports=Et(Nd);n();n();n();var Ea=b(require("axios"));n();n();V();n();var Es=b(require("lodash.isequal")),Dr=require("reselect"),S=(0,Dr.createSelectorCreator)(Dr.defaultMemoize,Es.default);var me=e=>e.account,Ne=S(me,e=>e.address),ze=S(me,Ne,(e,t)=>t in e.accounts?e.accounts[t]:lr),Ps=S(me,ze,(e,t)=>{let i=e,{accounts:r}=i,o=kt(i,["accounts"]);return I(f({},o),{address:t.address,account:t})}),gT=S(ze,e=>e.balance),Ls=S(ze,e=>{var t;return((t=e==null?void 0:e.nonce)==null?void 0:t.valueOf())||0}),fT=S(me,e=>e.shard),TT=S(me,e=>e.ledgerAccount),yT=S(me,e=>e.walletConnectAccount),hT=S(me,e=>e.isAccountLoading),xT=S(me,e=>e.accountLoadingError),Ap=S(me,e=>e.websocketEvent),Ip=S(me,e=>e.websocketBatchEvent);n();var Gn=e=>e.dappConfig,vT=S(Gn,e=>e.shouldUseWebViewProvider);n();var q=e=>e.loginInfo,kT=S(q,e=>e.loginMethod),Mt=S(q,Ne,(e,t)=>Boolean(t)),ET=S(q,e=>e.walletConnectLogin),Ns=S(q,e=>e.ledgerLogin),Rs=S(q,e=>e.walletLogin),PT=S(q,e=>e.isLoginSessionInvalid),LT=S(q,e=>e.tokenLogin),Cs=S(q,e=>e.logoutRoute),bp=S(q,e=>e.isWalletConnectV2Initialized);n();var Ds=e=>e.modals,CT=S(Ds,e=>e.txSubmittedModal),DT=S(Ds,e=>e.notificationModal);n();var ge=e=>e.networkConfig,_s=S(ge,e=>e.network.chainId),MT=S(ge,e=>e.network.roundDuration),FT=S(ge,e=>e.network.walletConnectBridgeAddress),UT=S(ge,e=>e.network.walletConnectV2RelayAddress),BT=S(ge,e=>e.network.walletConnectV2ProjectId),WT=S(ge,e=>e.network.walletConnectV2Options),GT=S(ge,e=>e.network.walletConnectDeepLink),Ke=S(ge,e=>e.network),Os=S(Ke,e=>e.apiAddress),Ms=S(Ke,e=>e.explorerAddress),Fs=S(Ke,e=>{var t;return(t=e.customWalletAddress)!=null?t:e.walletAddress}),VT=S(Ke,e=>e.xAliasAddress),Us=S(Ke,e=>e.egldLabel);n();var _r=e=>e.signedMessageInfo,qT=S(_r,e=>e.isSigning),jT=S(_r,e=>e.errorMessage),zT=S(_r,e=>{let t=Object.keys(e.signedSessions),r=t.length;return e.signedSessions[t[r-1]]}),KT=S(_r,e=>{let t=Object.keys(e.signedSessions),r=t.length;return t.length>0?t[r-1]:""});n();var Bs=e=>e.toasts,ZT=S(Bs,e=>e.customToasts),JT=S(Bs,e=>e.transactionToasts);n();V();var Ws={errorMessage:Dn,successMessage:_n,processingMessage:On},kp=e=>e.transactionsInfo,ry=S(kp,(e,t)=>t,(e,t)=>t!=null&&(e==null?void 0:e[Number(t)])||Ws);n();n();var fe=require("@multiversx/sdk-core");P();n();var $n=require("@multiversx/sdk-core/out");n();n();function Or(e){try{let t=atob(e),r=btoa(t),o=s.Buffer.from(e,"base64").toString(),i=s.Buffer.from(o).toString("base64"),l=e===r||r.startsWith(e),p=e===i||i.startsWith(e);if(l&&p)return!0}catch(t){return!1}return!1}function Xe(e){return Or(e)?atob(e):e}n();n();function Vn(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}function Ft(e){let t=e;try{let r=s.Buffer.from(e,"hex").toString();Vn(r)&&r.length>1&&(t=r)}catch(r){}return t}n();n();var Gs=e=>{let t=e!=null?e:"";return Or(t)?$n.TransactionPayload.fromEncoded(t):new $n.TransactionPayload(t)};n();P();var gt=({data:e,onlySetGuardian:t})=>e?t?e.startsWith("SetGuardian"):Object.values(dn).some(r=>e.startsWith(r)):!1;function Ut(e){var o,i,l;let t=f({},e);gt({data:t.data,onlySetGuardian:!0})&&(delete t.senderUsername,delete t.receiverUsername);let r=new fe.Transaction(f(f(I(f(I(f({value:t.value.valueOf(),data:Gs(t.data),nonce:t.nonce.valueOf(),receiver:new fe.Address(t.receiver)},t.receiverUsername?{receiverUsername:t.receiverUsername}:{}),{sender:new fe.Address(t.sender)}),t.senderUsername?{senderUsername:t.senderUsername}:{}),{gasLimit:(o=t.gasLimit.valueOf())!=null?o:nr,gasPrice:(i=t.gasPrice.valueOf())!=null?i:or,chainID:t.chainID.valueOf(),version:new fe.TransactionVersion((l=t.version)!=null?l:wi)}),t.options?{options:new fe.TransactionOptions(t.options)}:{}),t.guardian?{guardian:new fe.Address(t.guardian)}:{}));return t.guardianSignature&&r.applyGuardianSignature(s.Buffer.from(t.guardianSignature,"hex")),t.signature&&r.applySignature(s.Buffer.from(t.signature,"hex")),r}n();n();P();function Ep(e,t){let r=new URLSearchParams(e),o=Object.fromEntries(r);return{nextUrlParams:new URLSearchParams(f(f({},o),t)).toString(),params:o}}var Pp="3.1.0";function Vs({callbackUrl:e,urlParams:t={}}){let r=e;if(Object.entries(t).length>0)try{let{search:o,origin:i,pathname:l,hash:p}=new URL(e),u=I(f({},t),{[ir]:Pp}),{nextUrlParams:m}=Ep(o,u);r=`${i}${l}?${m}${p}`}catch(o){return console.error("Unable to construct URL from: ",e,o),r}return r}n();n();var jn=require("@reduxjs/toolkit"),ca=require("react-redux/lib/utils/Subscription");V();n();var $s=b(require("lodash.throttle"));P();V();En();Rt();ut();var Lp=[sr],Mr=!1,Np=(0,$s.default)(()=>{Dt(Ct())},5e3),Hs=e=>t=>r=>{if(Lp.includes(r.type))return t(r);let o=e.getState(),i=de.local.getItem(ne.loginExpiresAt);if(!Boolean(o==null?void 0:o.account.address))return t(r);if(i==null)return Dt(Ct());let p=Date.now();return i-p<0&&!Mr?setTimeout(()=>{Mr=!0,e.dispatch(Wi())},1e3):(Mr&&(Mr=!1),Np()),t(r)};n();n();function Fr(){return typeof sessionStorage!="undefined"}var ia=Fr()?(Ys(),Et(Xs)).default:(Js(),Et(Zs)).default,sa=Fr()?(ea(),Et(Qs)).default:[],aa=Fr()?(oa(),Et(na)).default:e=>e;Ur();var k=(0,jn.configureStore)({reducer:ia,middleware:e=>e({serializableCheck:{ignoredActions:[...sa,kn.type,bn.type],ignoredPaths:["payload.nonce","account.account.nonce","providers.accountProvider"]}}).concat(Hs)}),la=(0,ca.createSubscription)(k),uh=aa(k),dh=(0,jn.configureStore)({reducer:Ye});n();n();var eu=require("@multiversx/sdk-core/out");n();P();n();var ua=require("@multiversx/sdk-core");B();n();var pa=require("@multiversx/sdk-core");function tu(e){try{let t=new pa.Address(e);return Boolean(t.bech32())}catch(t){return!1}}function ft(e){return(e==null?void 0:e.length)===62&&/^\w+$/.test(e)&&tu(e)}n();n();n();var Kn=require("@multiversx/sdk-core"),Br=b(require("bignumber.js"));Q();var zn={tokenId:"",amount:""},da=e=>e.split("@").map((l,p)=>[2,3].includes(p)?l:Ft(l));function Xn(e){if(!e)return zn;let t=e.startsWith("ESDTTransfer"),r=e.startsWith("ESDTNFTTransfer")&&e.includes("@"),o=e.startsWith("ESDTNFTBurn")&&e.includes("@");if(t){let[,i,l]=e.split("@");try{let p=s.Buffer.from(i,"hex").toString("ascii");if(!p)return zn;let u=new Br.default("0x"+l.replace("0x","")).toString(10);return{tokenId:p,amount:u}}catch(p){console.error("Error getting token from transaction data",p)}}if(r)try{let[,i,l,p,u]=da(e);if([i,l,p,u].every(m=>Boolean(m))&&ft(new Kn.Address(u).bech32()))return{tokenId:`${i}-${l}`,amount:new Br.default(p,16).toString(10),collection:i,nonce:l,receiver:new Kn.Address(u).bech32()}}catch(i){}if(o)try{let[,i,l,p]=da(e);if([i,l,p].every(u=>Boolean(u)))return{tokenId:`${i}-${l}`,amount:new Br.default(p,16).toString(10),collection:i,nonce:l}}catch(i){}return zn}n();n();n();var Ze="accounts";var Yn="blocks";n();n();n();n();H();n();n();H();n();n();n();var au=b(require("bignumber.js"));P();n();var su=require("@multiversx/sdk-core"),Zn=b(require("bignumber.js"));P();n();var ou=b(require("bignumber.js"));n();Zn.default.config({ROUNDING_MODE:Zn.default.ROUND_FLOOR});n();n();n();P();n();n();n();n();P();n();P();n();var cu=require("@multiversx/sdk-core");P();n();var Gt=require("@multiversx/sdk-core"),uu=b(require("bignumber.js"));P();n();n();var lu=b(require("bignumber.js"));P();n();P();n();n();n();n();n();n();P();n();P();n();P();n();H();var mu=["reDelegateRewards","claimRewards","unBond"],gu=["wrapEgld","unwrapEgld"],fu=["unStake"],Tu=["unDelegate"];n();n();n();P();n();var xu=b(require("bignumber.js"));n();n();H();n();var wu=b(require("bignumber.js"));n();n();n();function Ta({tokenId:e,erdLabel:t}){return Boolean(e&&e!==t)}n();var eo=b(require("bignumber.js"));B();n();var ya=(e,t)=>{let r=[],o=e.indexOf(t,0);for(;o>=0;)r.push(o),o=e.indexOf(t,o+1);return r};function ha(e){let t=[],r=0;try{if((e==null?void 0:e.startsWith("MultiESDTNFTTransfer"))&&(e==null?void 0:e.includes("@"))){let[,o,i,...l]=e==null?void 0:e.split("@");if(o){let p=new eo.default(i,16).toNumber();if(p>=Number.MAX_SAFE_INTEGER)return[];let u=0;for(let T=0;T<p;T++){let w={type:"nftTransaction",data:"",receiver:o};for(let v=0;v<3;v++){switch(v){case 0:w.token=Ft(l[u]),w.data=l[u];break;case 1:{let A=l[u]&&l[u].length?l[u]:"";A&&A!=="00"?w.nonce=A:w.type="esdtTransaction",w.data=`${w.data}@${l[u]}`;break}case 2:w.amount=new eo.default(l[u],16).toString(10),w.data=`${w.data}@${l[u]}`;break;default:break}r=u+1,u++}t[T]=w}let m=t.length!==p,g=t.some(T=>ya(T.data,"@").length!==2),y=t.some(T=>T.data.startsWith("@"));if(m||g||y)return[];if(l[r]){let T=l[r];for(let w=r+1;w<l.length;w++)T+="@"+l[w];t[p]={type:"scCall",data:T,receiver:o}}}}}catch(o){return console.error("failed parsing tx",o),t}return t}n();n();n();Q();function Vt(e){let r=Object.getPrototypeOf(e).toPlainObject!=null?e:Ut(e),o=I(f({},r.toPlainObject()),{hash:r.getHash().hex(),senderUsername:r.getSenderUsername().valueOf(),receiverUsername:r.getReceiverUsername().valueOf(),status:"pending"});return gt({data:o.data,onlySetGuardian:!0})&&(delete o.senderUsername,delete o.receiverUsername),o}n();var wa=require("@multiversx/sdk-web-wallet-provider");P();n();var Sa=b(require("qs"));n();qe();var Gr=e=>{let t=new URLSearchParams(e).toString(),{pathname:r,hash:o}=D(),i=t?`?${t}`:"",l=r?`${r}${i}${o}`:"./";setTimeout(()=>{window==null||window.history.replaceState({},document==null?void 0:document.title,l)})};Tr();n();Tr();var Au={search:He()?window.location.search:"",removeParams:[]},xa=(e,t=Au)=>{var p;let r={},o=He()?window.location.search:"",i=(p=t.search)!=null?p:o;if(i){let u=i?new URLSearchParams(i):[];r=Object.fromEntries(u)}let l={};return e.forEach(u=>{l[u]=r[u],delete r[u]}),t.removeParams!=null&&Object.keys(r).forEach(u=>{var g,y;let[m]=u.split("[");(((g=t.removeParams)==null?void 0:g.includes(u))||((y=t.removeParams)==null?void 0:y.includes(m)))&&delete r[u]}),{remainingParams:l,params:r,clearNavigationHistory:()=>Gr(r)}};var Vr=({removeParams:e,search:t})=>{let r=He()?window.location.search:"",o=t!=null?t:r;if(!o)return{};let i=Sa.default.parse(o.replace("?","")),l=Object.keys(i).filter(u=>!e.includes(u)),{remainingParams:p}=xa(l,{search:t,removeParams:e});return Gr(p),p};var va=({transaction:e,search:t})=>Vr({removeParams:[...Object.keys(e),wa.WALLET_PROVIDER_CALLBACK_PARAM,Le,ir],search:t});n();n();n();ee();n();H();n();n();ee();n();var Iu=b(require("linkifyjs"));n();P();n();var bu=b(require("bignumber.js"));n();B();n();n();Q();n();Q();n();n();n();H();n();H();n();var ku=b(require("bignumber.js"));P();H();n();H();n();var Ia=require("react");B();n();n();H();n();n();var Eu=require("@multiversx/sdk-core/out"),Pu=b(require("bignumber.js"));H();n();B();n();n();B();var dI=[{label:"Raw",value:"raw"},{label:"Text",value:"text"},{label:"Decimal",value:"decimal"},{label:"Smart",value:"smart"}];n();var ba=require("react");B();ee();n();var Nu=require("react");H();var SI=["create","localMint","ESDTLocalMint","addQuantity","burn","localBurn","ESDTLocalBurn","wipe","writeLog","signalError"];Un();n();var $r=e=>e.transactions,Ht=S($r,e=>e.signedTransactions),pb=S($r,e=>e.signTransactionsError),ka=S($r,e=>e.signTransactionsCancelMessage),Hr=e=>t=>Object.entries(t).reduce((r,[o,i])=>(e(i.status)&&(r[o]=i),r),{}),ub=S(Ht,Hr(gs)),db=S(Ht,Hr(Er)),mb=S(Ht,Hr(Pr)),gb=S(Ht,Hr(Ts)),qr=S($r,e=>{var t;return(e==null?void 0:e.transactionsToSign)==null?null:I(f({},e.transactionsToSign),{transactions:((t=e==null?void 0:e.transactionsToSign)==null?void 0:t.transactions.map(r=>Ut(r)))||[]})}),fb=S(Ht,(e,t)=>t,(e,t)=>t!=null?(e==null?void 0:e[t])||{}:{});function Pa(e){return h(this,null,function*(){let{network:{apiAddress:t,apiTimeout:r}}=ge(k.getState()),{data:o}=yield Ea.default.get(`${t}/${Ze}/${e}`,{timeout:Number(r)});return o})}n();n();var La=require("react"),Tt=require("react-redux");var Ru={store:k,subscription:la},to=(0,La.createContext)(Ru),Db=(0,Tt.createStoreHook)(to),Re=(0,Tt.createDispatchHook)(to),R=(0,Tt.createSelectorHook)(to);var Na=()=>R(Ps);n();n();n();n();var Da=require("@multiversx/sdk-extension-provider"),_a=require("@multiversx/sdk-hw-provider"),Oa=require("@multiversx/sdk-metamask-provider/out/metamaskProvider"),Ma=require("@multiversx/sdk-opera-provider"),Fa=require("@multiversx/sdk-passkey-provider/out"),ro=require("@multiversx/sdk-web-wallet-provider");P();Pt();n();var Je=require("@multiversx/sdk-web-wallet-iframe-provider/out"),Ra=require("@multiversx/sdk-web-wallet-iframe-provider/out/constants");Q();n();var Ca=yt;var Cu="/dapp/init",Qe=e=>{switch(e==null?void 0:e.constructor){case ro.WalletProvider:return"wallet";case Ca:return"walletconnectv2";case _a.HWProvider:return"ledger";case Da.ExtensionProvider:return"extension";case Fa.PasskeyProvider:return"passkey";case Oa.MetamaskProvider:return"metamask";case Ma.OperaProvider:return"opera";case ve.CrossWindowProvider:return"crossWindow";case Je.IframeProvider:return"iframe";case yt:return"";default:return"extra"}},Ua=e=>new ro.WalletProvider(`${e}${Cu}`),Ba=e=>h(void 0,null,function*(){if(!e.isInitialized())throw new Error("Unable to get version. Provider not initialized");let t=e.hwApp,{contractData:r,version:o}=yield t.getAppConfiguration();return{version:o,dataEnabled:r===vi}}),oe=e=>`Unable to perform ${e}, Provider not initialized`,yt=class{init(){return Promise.resolve(!1)}getAccount(){throw new Error(oe("getAccount"))}setAccount(t){throw new Error(oe(`setAccount: ${t}`))}login(t){throw new Error(oe(`login with options: ${t}`))}logout(t){throw new Error(oe(`logout with options: ${t}`))}getAddress(){throw new Error(oe("getAddress"))}isInitialized(){return!1}isConnected(){return!1}sendTransaction(t,r){throw new Error(oe(`sendTransaction with transactions: ${t} options: ${r}`))}signTransaction(t,r){throw new Error(oe(`signTransaction with transactions: ${t} options: ${r}`))}signTransactions(t,r){throw new Error(oe(`signTransactions with transactions: ${t} options: ${r}`))}signMessage(t,r){throw new Error(oe(`signTransactions with ${t} and options ${r}`))}sendCustomMessage({method:t,params:r}){throw new Error(oe(`sendCustomMessage with method: ${t} params: ${r}`))}sendCustomRequest(t){throw new Error(oe(`sendSessionEvent with options: ${t}`))}ping(){return Promise.resolve(!1)}},no=new yt;var oo=no,Wa=null;function Ga(e){oo=e}function Va(){Wa!=null&&(oo=Wa)}function Y(){return oo||no}var ht=()=>{let e=Y(),t=Qe(e);return{provider:e,providerType:t}};n();var rt=require("react"),nt=require("@multiversx/sdk-core");n();n();n();n();var $a=require("@lifeomic/axios-fetch"),io=b(require("axios")),so=(0,$a.buildAxiosFetch)(io.default),ao=(e,t)=>h(void 0,null,function*(){if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);let o=e.clone().json(),[i]=yield Promise.all([o]);return{data:i,status:e.status,statusText:e.statusText,headers:e.headers,config:t}});function Du(e,t,r){return h(this,null,function*(){try{let o=yield so(e,f({method:"POST",body:t?JSON.stringify(t):void 0,headers:f({"Content-Type":"application/json"},(r==null?void 0:r.headers)||{})},r));return ao(o,r)}catch(o){throw console.error("Fetch Error:",o),o}})}function _u(e,t){return h(this,null,function*(){try{let r=yield so(e,t);if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);return ao(r,t)}catch(r){throw console.error("Fetch Error:",r),r}})}function Ou(e,t,r){return h(this,null,function*(){try{let o=yield so(e,f({method:"PATCH",body:t?JSON.stringify(t):void 0,headers:(r==null?void 0:r.headers)||{}},r));if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);return ao(o,r)}catch(o){throw console.error("Fetch Error:",o),o}})}var et=io.default.create();et.get=_u;et.post=Du;et.patch=Ou;var Ha=e=>et.get(e).then(t=>t.data);n();var qt=e=>{let t=e!=null?e:Os(k.getState());return t.endsWith("/")?t.slice(0,-1):t};n();var qa=b(require("swr"));var jr=({apiEndpoint:e})=>{let t=qt(),r=e?`${t}/${e}`:null;return(0,qa.default)(r,Ha)};var zr=e=>jr({apiEndpoint:e?`${Ze}/${e}?withGuardianInfo=true`:null});P();n();var jt=require("react");n();function ja({parsedTransactionsByDataField:e,data:t,txInfo:r}){!e||(e[t]=r)}function za({transactions:e}){let t={},r=[];return!e||e.length===0?{allTransactions:r,parsedTransactionsByDataField:t}:(e.forEach((o,i)=>{let l=o.getData().toString(),p=ha(l);if(p.length>0)p.forEach((u,m)=>{let g={transaction:o,multiTxData:u.data,transactionIndex:m};ja({parsedTransactionsByDataField:t,data:u.data,txInfo:{tokenId:u.token?u.token:"",amount:u.amount?u.amount:"",type:u.type,nonce:u.nonce?u.nonce:"",multiTxData:u.data,receiver:u.receiver}}),r.push(g)});else{let u=o.getData().toString(),{tokenId:m,amount:g}=Xn(u);m&&ja({parsedTransactionsByDataField:t,data:u,txInfo:{tokenId:m,amount:g,receiver:o.getReceiver().bech32()}}),r.push({transaction:o,transactionIndex:i,multiTxData:u})}}),{allTransactions:r,parsedTransactionsByDataField:t})}var Ka={tokenId:"",amount:"",type:"",multiTxData:"",receiver:""};function Xa({transactions:e}){let[t,r]=(0,jt.useState)({}),[o,i]=(0,jt.useState)([]);function l(u,m){return t==null?Ka:u in t?t[u]:m!=null&&String(m)in t?t[m]:Ka}function p(){let{allTransactions:u,parsedTransactionsByDataField:m}=za({transactions:e});i(u),r(m)}return(0,jt.useEffect)(()=>{p()},[e==null?void 0:e.length]),{parsedTransactionsByDataField:t,getTxInfoByDataField:l,allTransactions:o}}Ln();n();n();var Ya=(e,t)=>e?Array.isArray(t)?t.some(r=>e.address===r||e.activeGuardianAddress===r):e.address===t||e.activeGuardianAddress===t:!0;n();function Za(e){let t=qr(k.getState()),r=Object.keys(e).length===(t==null?void 0:t.transactions.length);return e&&(e&&r)}n();n();n();var Mu=e=>{let r=`${qt()}/${Ze}/${e}?withGuardianInfo=true`;return et.get(r)},Ja=e=>h(void 0,null,function*(){if(!e)return null;try{let{data:t}=yield Mu(e);return t}catch(t){console.error("error fetching configuration for ",e,t)}return null});var xt=e=>Ja(e);n();function Kr(e){let t=k.getState(),r=Ls(t);return e?r&&!isNaN(r)?Math.max(r,e.nonce):e.nonce:r}n();n();var co=({accountNonce:e,transactionNonce:t})=>t&&t>e?t:e;var Qa=({latestNonce:e,transactions:t})=>t.length===0?t:t.map((r,o)=>{let i=e+o,l=r.getNonce().valueOf(),p=co({accountNonce:i,transactionNonce:l});return r.setNonce(p),r});var ec=()=>{let e=R(Ne),{data:t}=zr(e);return r=>h(void 0,null,function*(){let o=t!=null?t:yield xt(e),i=Kr(o);return Qa({latestNonce:i,transactions:r})})};n();var zt=({transactions:e,isGuarded:t})=>t?e.length===0?!1:e.every(r=>Boolean(r.getGuardianSignature().toString("hex"))):!0;n();n();n();Lt();n();var Bu=b(require("axios"));n();var Gu=b(require("axios"));n();Lt();n();Lt();function lo(e){return Ti[e]}n();n();n();n();var Vu=require("@multiversx/sdk-opera-provider");n();var $u=require("@multiversx/sdk-extension-provider");n();Pt();function tc(r){return h(this,arguments,function*({address:e,walletUrl:t}){try{let o=yield ve.CrossWindowProvider.getInstance().init(),i=ve.CrossWindowProvider.getInstance().setAddress(e).setWalletUrl(t);if(o)return i;console.error("Could not initialise Cross Window Wallet provider")}catch(o){console.error("Unable to login to CrossWindowWalletProvider",o)}return null})}n();n();n();n();var Ac=b(vc());var uo=e=>{if(!e||!(0,Ac.default)(e))return null;let t=e.split(".");if(t.length!==4)return null;try{let[r,o,i,l]=t,p=JSON.parse(Xe(l)),u=Xe(r);return{ttl:Number(i),extraInfo:p,origin:u,blockHash:o}}catch(r){return console.error(`Error trying to decode ${e}:`,r),null}};n();var Td=require("@multiversx/sdk-native-auth-client");n();var Ec=b(require("axios"));n();n();n();function Ic(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(),e)})})}n();var bc=(e,t,r,o=0)=>h(void 0,null,function*(){try{return yield e(...r)}catch(i){return o<t.retries?((t==null?void 0:t.delay)!=null&&(yield Ic(t.delay)),yield bc(e,t,r,o+1)):null}}),kc=(e,t={retries:5,delay:500})=>(...r)=>h(void 0,null,function*(){return yield bc(e,t,r)});var gd=4;var Z0=kc((e,t,r)=>h(void 0,null,function*(){if(r){let l=Math.floor(Date.now()/1e3);return{hash:yield r(),timestamp:l}}let{data:o}=yield Ec.default.get(`${e}/${Yn}?from=${gd}&size=1&fields=hash,timestamp${t?"&shard="+t:""}`),[i]=o;return i}));n();n();ar();n();function fd(e){return Object.prototype.toString.call(e)==="[object String]"}var mo=e=>{var r;if(!e||!fd(e))return null;let t=e.split(".");if(t.length!==3)return console.error("Invalid nativeAuthToken. You may be trying to decode a loginToken. Try using decodeLoginToken method instead"),null;try{let[o,i,l]=t,p=Xe(o),u=Xe(i),m=uo(u);if(!m)return{address:p,body:u,signature:l,blockHash:"",origin:"",ttl:0};let g=I(f({},m),{address:p,body:u,signature:l});return(r=m.extraInfo)!=null&&r.timestamp||delete g.extraInfo,g}catch(o){return null}};n();ee();var aE={origin:D().origin,apiAddress:"https://api.multiversx.com",expirySeconds:60*60*24,tokenExpirationToastWarningSeconds:5*60};n();var yd=require("@multiversx/sdk-metamask-provider/out/metamaskProvider");n();var hd=require("@multiversx/sdk-passkey-provider/out");P();ee();var Pc=({transactions:e,hasGuardianScreen:t,callbackRoute:r,sessionId:o,walletAddress:i,isGuarded:l})=>{let p=zt({isGuarded:l,transactions:e}),u=e[0].getChainID().valueOf(),m=e[0].getSender().bech32().toString(),g=lo(u),y=i!=null?i:Ge[g].walletAddress;return{needs2FaSigning:l?!t&&!p&&o:!1,sendTransactionsToGuardian:()=>{let A=Ua(y),_={[Le]:String(o)},{origin:E}=D(),z=window!=null&&window.location?`${E}${r}`:`${r}`,M=Vs({callbackUrl:z,urlParams:_});A.guardTransactions(e,{callbackUrl:encodeURIComponent(M)})},guardTransactions:()=>h(void 0,null,function*(){let A=yield tc({address:m,walletUrl:y});return A==null||A.setShouldShowConsentPopup(!0),yield A==null?void 0:A.guardTransactions(e)})}};n();n();n();var Fc=require("react"),fo=require("@multiversx/sdk-hw-provider");n();n();ee();var Lc=()=>{let{search:e}=D(),t=new URLSearchParams(e),r=Object.fromEntries(t),o=r==null?void 0:r.address;return ft(o)?o:null};n();n();function Nc(){let e=Y();return Qe(e)}n();Q();n();function tt(e){return Nc()===e}function Xr(){let e=k.getState(),t=Y(),r=Ne(e),o=Mt(e),i=Rs(e);if(!t)throw"provider not initialized";return tt("ledger")&&o?new Promise(l=>{l(r)}):!tt("")&&!tt("wallet")&&!tt("extra")?t.getAddress():new Promise(l=>{let p=Lc();i!=null&&p&&l(p),o&&l(r),l("")})}n();n();ee();var Rc=()=>{let{search:e}=D(),t=new URLSearchParams(e),r=Object.fromEntries(t);return r==null?void 0:r.accessToken};var Cc=()=>{var r;let e=Rc(),t=q(k.getState());return e!=null?e:(r=t.webviewLogin)==null?void 0:r.data};n();G();B();n();V();n();V();n();var Dc=require("@multiversx/sdk-core");B();qe();n();G();B();n();function _c(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}function Oc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=xd(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],p=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((g,y,T)=>{if(y==="*"){let w=u[T]||"";p=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}return g[y]=Sd(u[T]||"",y),g},{}),pathname:l,pathnameBase:p,pattern:e}}function xd(e,t=!1,r=!0){_c(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(p,u)=>(o.push(u),"([^\\/]+)"));return e.endsWith("*")?(o.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),o]}function Sd(e,t){try{return decodeURIComponent(e)}catch(r){return _c(!1,`The value for the URL param "${t}" will not be decoded because the string "${e}" is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}yr();Rt();ut();qe();var Mc=({callbackUrl:e,onRedirect:t})=>{typeof t=="function"?t(e):e&&_t({url:e})},wd=e=>{let t=de.local.getItem(ne.logoutEvent),{data:r}=t?JSON.parse(t):{data:e};e===r&&(de.local.setItem({key:ne.logoutEvent,data:e,expires:0}),de.local.removeItem(ne.logoutEvent))},vd=500;function go(i,l){return h(this,arguments,function*(e,t,r=Boolean(Cc()),o={shouldBroadcastLogoutAcrossTabs:!0,hasConsentPopup:!1}){var A;let p="",u=Y(),m=Qe(u),g=m==="wallet",y=((A=u==null?void 0:u.isInitialized)==null?void 0:A.call(u))===!0;if(r&&(u==null?void 0:u.relogin)!=null)return u.relogin();if(o.shouldBroadcastLogoutAcrossTabs)try{p=yield Xr(),wd(p)}catch(_){console.error("error fetching logout address",_)}let T=Pn(e),w=D(),v=new URL(decodeURIComponent(T)).pathname;if((Oc(w.pathname,v)||g&&y)&&Xi(),!p&&!y)return Mc({callbackUrl:T,onRedirect:t});try{if(k.dispatch(N()),g)return setTimeout(()=>{u.logout({callbackUrl:T})},vd);o.hasConsentPopup&&m==="crossWindow"&&u.setShouldShowConsentPopup(!0),yield u.logout({callbackUrl:T})}catch(_){console.error("Logging out error:",_)}finally{g||Mc({callbackUrl:T,onRedirect:t})}})}var Uc=()=>{let e=R(Cs),t=R(Mt),r=R(Ns),o=Y(),[i,l]=(0,Fc.useState)(),p=()=>h(void 0,null,function*(){let m=(r==null?void 0:r.index)!=null;try{if(o instanceof fo.HWProvider&&o.isInitialized())return m&&(yield o.setAddressIndex(r.index)),o;let g=new fo.HWProvider;return(yield g.init())?(m&&(yield g.setAddressIndex(r.index)),g):null}catch(g){return console.error("Failed to initialise Ledger Provider"),null}});function u(m){return h(this,null,function*(){let g,y=t&&!(m!=null&&m.isRelogin);try{if(g=yield p(),!g){console.warn("Could not initialise ledger app"),y&&go(e);return}let T=yield Ba(g);return Ga(g),l(T),g}catch(T){console.error("Could not initialise ledger app",T),y&&go(e)}return null})}return{setLedgerProvider:u,ledgerData:i}};var Bc=()=>{let{provider:e}=ht(),{setLedgerProvider:t}=Uc();return function(){return h(this,null,function*(){let o;try{let l=yield e.getAddress();o=Boolean(l)}catch(l){o=!1}if(o)return e;let i=yield t({isRelogin:!0});return i||e})}};var Yr={},Wc=({isLedger:e=!1,transactionsToSign:t,egldLabel:r,address:o,activeGuardianAddress:i,hasGuardianScreen:l,onCancel:p,onSignTransaction:u,onTransactionsSignError:m,onTransactionsSignSuccess:g,onGetScamAddressData:y})=>{var vo,Ao,Io,bo;let T=Boolean(i),[w,v]=(0,rt.useState)(0),[A,_]=(0,rt.useState)(),[E,z]=(0,rt.useState)(null),[M,F]=(0,rt.useState)(!1),{getTxInfoByDataField:C,allTransactions:Z}=Xa({transactions:i?t==null?void 0:t.map(L=>{L.setSender(nt.Address.fromBech32(o)),L.setVersion(nt.TransactionVersion.withTxOptions()),L.setGuardian(nt.Address.fromBech32(i));let K=f({guarded:!0},e?{hashSign:!0}:{});return L.setOptions(nt.TransactionOptions.withOptions(K)),L}):t}),Ce=w===Z.length-1,ie=Z[w],re=(vo=E==null?void 0:E.transaction)==null?void 0:vo.getSender().toString(),{data:ye}=zr(!re||re===o?null:re),ot=()=>h(void 0,null,function*(){var ko;if(ie==null)return;let{transaction:L,multiTxData:K,transactionIndex:wt}=ie,Yt=L.getData().toString(),it=C(L.getData().toString(),K),{tokenId:vt}=it,Oe=L.getReceiver().toString();if(re&&re!==o&&!Ya(ye,o))return console.error(Qo),p==null?void 0:p();let Me=o!==Oe,Zr=Oe in Yr;if(Oe&&Me&&!Zr&&y!=null){let It=yield y(Oe);Yr=f(f({},Yr),It!=null&&It.scamInfo?{[Oe]:It.scamInfo}:{})}let At=Boolean(vt&&Ta({tokenId:vt,erdLabel:r}));z({transaction:L,receiverScamInfo:((ko=Yr[Oe])==null?void 0:ko.info)||null,transactionTokenInfo:it,isTokenTransaction:At,dataField:Yt,transactionIndex:wt})});(0,rt.useEffect)(()=>{ot()},[ie,ye]);let se=()=>{v(0),_(void 0),F(!1)},be=()=>h(void 0,null,function*(){let L=Object.values(A!=null?A:{}),K=zt({isGuarded:T,transactions:L});if(T&&K){g(L),se();return}if(E==null)return;F(e);let wt;try{wt=yield u(E.transaction)}catch(Me){console.error(Me,"sign error");let{message:Zr}=Me,At=e?es(Me).errorMessage:null;se(),m(At!=null?At:Zr);return}if(!wt)return;let Yt={[w]:wt},it=A?f(f({},A),Yt):Yt;if(_(it),!Ce){v(Me=>Me+1),F(!1);return}if(!it)return;let vt=Object.values(it);!zt({isGuarded:T,transactions:vt})&&l||(g(vt),se())}),W=()=>h(void 0,null,function*(){try{if(E==null)return;if(E.transaction.getSignature().toString("hex")&&!Ce){v(K=>K+1);return}yield be()}catch(L){console.error("Error during signing transaction"),yield be()}}),De=w===0,he=()=>{De?p==null||p():v(L=>L-1)},_e=Boolean(((Ao=E==null?void 0:E.transactionTokenInfo)==null?void 0:Ao.type)&&((Io=E==null?void 0:E.transactionTokenInfo)==null?void 0:Io.multiTxData)&&!(E!=null&&E.dataField.endsWith((bo=E==null?void 0:E.transactionTokenInfo)==null?void 0:bo.multiTxData)));return{allTransactions:Z,onSignTransaction:()=>h(void 0,null,function*(){if(_e){v(L=>L+1);return}yield W()}),onNext:()=>{v(L=>{let K=L+1;return K>(Z==null?void 0:Z.length)?L:K})},onPrev:()=>{v(L=>{let K=L-1;return K<0?L:K})},waitingForDevice:M,onAbort:he,isLastTransaction:Ce,isFirstTransaction:w===0,hasMultipleTransactions:Z.length>1,shouldContinueWithoutSigning:_e,currentStep:w,signedTransactions:A,setSignedTransactions:_,currentTransaction:E}};V();B();yr();ee();n();un();V();function Gc(){let e=Re();return t=>{e(dt()),e(Ir(t)),e(je(rr))}}n();var St=require("react"),ho=require("@multiversx/sdk-extension-provider"),xo=require("@multiversx/sdk-metamask-provider/out/metamaskProvider"),So=require("@multiversx/sdk-passkey-provider/out");n();n();var To=()=>R(ze);n();n();n();n();n();n();n();var Xt=b(require("react"));var JL=(0,Xt.createContext)({}),QL=k.getState();n();var $c=b(require("react"));n();var yo=b(require("react")),Ad=b(require("axios"));n();n();n();var Hc=require("react"),qc=require("@multiversx/sdk-web-wallet-provider"),jc=require("@multiversx/sdk-web-wallet-provider"),zc=b(require("qs"));P();V();Q();Tn();ee();var Id=D();function Kc(e){let t=R(Ke),r=Re(),{shouldFetchWalletUrlOnLoad:o}=R(Gn),{search:i}=o?Id:D();(0,Hc.useEffect)(()=>{if(i!=null){let l=zc.default.parse(i.replace("?",""));if(l&&Le in l){let p=String(l[Le]),u=new qc.WalletProvider(`${t.walletAddress}${Ai}`).getTransactionsFromWalletUrl(i);if(l.status==="cancelled"){r(mt({sessionId:p,status:"cancelled"})),e(),Vr({removeParams:[...Object.keys(fn),jc.WALLET_PROVIDER_CALLBACK_PARAM,Le,"address"],search:i}),r(je(rr));return}if(u.length>0){r(mt({sessionId:p,status:"signed",transactions:u.map(g=>Vt(g))}));let[m]=u;va({transaction:m,search:i})}}}},[i])}Pt();n();n();var Zc=require("@multiversx/sdk-dapp-utils/out/helpers/providerNotInitializedError"),Jc=require("@multiversx/sdk-webview-provider/out/WebviewProvider");G();n();G();V();B();function Xc(e,t=k.dispatch){let r=mo(e);if(r==null)return;let{signature:o,address:i}=r;o&&e&&i&&(t(Bi({loginToken:e,signature:o,nativeAuthToken:e})),t(Ve({address:i,loginMethod:"extra"})))}n();n();n();P();V();function Yc(){k.dispatch(dt())}n();qe();n();V();B();n();n();var kd=require("@multiversx/sdk-core"),Ed=b(require("bignumber.js"));P();n();var Pd=b(require("bignumber.js"));P();var Te=class{constructor(){this.init=()=>h(this,null,function*(){return yield this._provider.init()});this.login=()=>h(this,null,function*(){var r;let t=yield this._provider.login();return{address:(r=t==null?void 0:t.address)!=null?r:""}});this.logout=()=>h(this,null,function*(){return k.dispatch(N()),yield this._provider.logout()});this.relogin=()=>h(this,null,function*(){let t=yield this._provider.relogin();return t?(Xc(t),Va(),t):(console.error("Unable to re-login. Missing accessToken."),null)});this.signTransactions=t=>h(this,null,function*(){let r=yield this._provider.signTransactions(t);return r||(Yc(),this._provider.cancelAction(),null)});this.signTransaction=t=>h(this,null,function*(){return yield this._provider.signTransaction(t)});this.signMessage=t=>h(this,null,function*(){return yield this._provider.signMessage(t)});this.cancelAction=()=>h(this,null,function*(){return yield this._provider.cancelAction()});this.isInitialized=()=>this._provider.isInitialized();this.isConnected=()=>this._provider.isConnected();this.sendCustomRequest=t=>h(this,null,function*(){this._provider.sendPostMessage({type:t.request.method,payload:t.request.params})});this.getAddress=(0,Zc.providerNotInitializedError)("getAddress");this._provider=Jc.WebviewProvider.getInstance({resetStateCallback:()=>k.dispatch(N())})}static getInstance(){return Te._instance||(Te._instance=new Te),Te._instance}getAccount(){var r;let t=this._provider.getAccount();return{address:(r=t==null?void 0:t.address)!=null?r:""}}setAccount(t){this._provider.setAccount(t)}};V();var Qc=()=>{let e=Re(),{provider:t}=ht(),{nonce:r}=To(),[o,i]=(0,St.useState)(null),[l,p]=(0,St.useState)(),[u,m]=(0,St.useState)([]),g=ec(),y=R(qr),T=R(ka),w=()=>h(void 0,null,function*(){var M,F;let E=Boolean(y==null?void 0:y.transactions),z=(M=y==null?void 0:y.transactions)!=null?M:[];if(E){let C=(F=y==null?void 0:y.customTransactionInformation)!=null&&F.skipUpdateNonces?z:yield g(z);m(C)}p(E)});(0,St.useEffect)(()=>{w()},[y,r]);let v=()=>{i(null),e(je(null))},A=E=>{v(),_(E)};Kc(A);function _(E){var ie,re,ye,ot,se,be,W,De,he,_e,ke,Ee;let z=t instanceof ho.ExtensionProvider,M=t instanceof So.PasskeyProvider,F=t instanceof ve.CrossWindowProvider,C=t instanceof Je.IframeProvider,Z=t instanceof xo.MetamaskProvider,Ce=t instanceof Te;e(dt()),e(Ir(E)),!(!z&&!F&&!C&&!M&&!Z)&&(v(),z&&((re=(ie=ho.ExtensionProvider.getInstance())==null?void 0:ie.cancelAction)==null||re.call(ie)),M&&((ot=(ye=So.PasskeyProvider.getInstance())==null?void 0:ye.cancelAction)==null||ot.call(ye)),Z&&((be=(se=xo.MetamaskProvider.getInstance())==null?void 0:se.cancelAction)==null||be.call(se)),F&&((De=(W=ve.CrossWindowProvider.getInstance())==null?void 0:W.cancelAction)==null||De.call(W)),C&&((_e=(he=Je.IframeProvider.getInstance())==null?void 0:he.cancelAction)==null||_e.call(he)),Ce&&((Ee=(ke=Te.getInstance())==null?void 0:ke.cancelAction)==null||Ee.call(ke)))}return{error:o,canceledTransactionsMessage:T,clearTransactionStatusMessage:v,onAbort:A,setError:i,hasTransactions:l,transactionsToSign:y&&I(f({},y),{transactions:u})}};function el(e){let{onCancel:t,verifyReceiverScam:r=!0,hasGuardianScreen:o}=e,{transactionsToSign:i,hasTransactions:l}=Qc(),p=R(Fs),u=Bc(),m=R(Us),{account:g}=Na(),{address:y,isGuarded:T,activeGuardianAddress:w}=g,{provider:v,providerType:A}=ht(),_=Re(),E=Gc(),{transactions:z,sessionId:M,callbackRoute:F,customTransactionInformation:C}=i||{};function Z(W){M&&_(mt({sessionId:M,status:"cancelled"})),_(Ss(W))}let{pathname:Ce}=D(),ie=F!=null&&Ce.includes(F),re=!(C!=null&&C.skipGuardian);function ye(W){return h(this,null,function*(){if(!Za(W))return;let{needs2FaSigning:he,guardTransactions:_e}=Pc({transactions:W,sessionId:M,callbackRoute:F,isGuarded:T&&re,walletAddress:p}),ke=W.map(Ee=>Vt(Ee));if(he){let Ee=yield _e();ke=Ee?Ee.map(wo=>Vt(wo)):[]}!M||(_(mt({sessionId:M,status:"signed",transactions:ke})),F!=null&&(C==null?void 0:C.redirectAfterSign)&&!ie&&_t({url:F}))})}function ot(){t(),E(M)}function se(W){return h(this,null,function*(){let De=A!=="ledger"?v:yield u();return W?yield De.signTransaction(W):null})}let be=Wc({address:y,egldLabel:m,activeGuardianAddress:T&&re?w:void 0,transactionsToSign:l?z:[],onGetScamAddressData:r?Pa:null,isLedger:tt("ledger"),hasGuardianScreen:o,onCancel:ot,onSignTransaction:se,onTransactionsSignError:Z,onTransactionsSignSuccess:ye});return I(f({},be),{callbackRoute:F,waitingForDevice:be.waitingForDevice})}function Ld(e){return el(e)}0&&(module.exports={useSignTransactionsWithLedger});
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=useSignTransactionsWithLedger.js.map
