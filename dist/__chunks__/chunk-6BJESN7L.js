import{c as V,d as y}from"./chunk-CHQCSVV7.js";import{c as d,d as p}from"./chunk-XAQNBFSL.js";import{a as h}from"./chunk-ZXZXEDS2.js";import{a as u,b as M}from"./chunk-WISLI42M.js";import{a as F}from"./chunk-6XR6BLIB.js";import{a as x}from"./chunk-HGOHQNWK.js";import{i as C,m as I}from"./chunk-HBP5N4FR.js";I();import f,{useEffect as B,useMemo as D,useRef as T}from"react";import G from"classnames";F();M();var m="toastProgress",L=({id:a,children:S,progress:s,done:R,expiresIn:N=10*60,className:E="dapp-progress",isCrossShard:P=!1,styles:o})=>{let{currentRemaining:W,totalSeconds:b}=D(()=>{let r=(u.session.getItem(m)||{})[a],t=s?s.endTime-s.startTime:0;return{currentRemaining:r||100,totalSeconds:t}},[]),i=T(null),l=T(),n=T(W);B(()=>{if(s!=null)return R?A():O(),()=>{clearInterval(l.current)}},[s,R]);function _(){let e=u.session.getItem(m);!Boolean(e==null?void 0:e[a])||(delete e[a],v(e))}function g(e){let r=u.session.getItem(m)||{};r[a]=e,v(r)}function v(e){u.session.setItem({key:m,data:e,expires:x(N)})}function A(){if(n.current<100){c(0);return}l.current=setInterval(()=>{if(i.current==null)return;let r=n.current-1;r<=0?(clearInterval(l.current),_(),c(0)):(g(r),c(r))},d)}function O(){if((u.session.getItem(m)||{})[a]===n.current){let t=p({remaining:n.current,totalSeconds:b,isCrossShard:P});c(t),g(t)}l.current=setInterval(()=>{if(i.current==null)return;let t=p({remaining:n.current,totalSeconds:b,isCrossShard:P});g(t),c(t)},d)}function c(e){n.current=e,w()}function w(){if(i.current==null)return;let e=n.current;i.current.style.width=`${e}%`,i.current.ariaValueNow=e}return s?f.createElement("div",{className:G(o==null?void 0:o.progress,E)},f.createElement("div",{ref:i,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,className:o==null?void 0:o.bar}),S):f.createElement(f.Fragment,null,S)},X=h(L,{ssrStyles:()=>import("../UI/Progress/progressStyles.js"),clientStyles:()=>(y(),C(V)).default});export{X as a};
//# sourceMappingURL=chunk-6BJESN7L.js.map
