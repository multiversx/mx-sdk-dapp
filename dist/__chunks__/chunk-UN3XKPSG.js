import{c as f}from"./chunk-4GYRLAHO.js";import{a as m}from"./chunk-XYVPB7J4.js";import{d as a}from"./chunk-JUB6TCFX.js";import{a as c}from"./chunk-BIAZCLDW.js";import{a as l}from"./chunk-DBD6N2CW.js";import{s as S}from"./chunk-7OZRG2YY.js";import{a as u}from"./chunk-HKOZWGGV.js";import{m as s}from"./chunk-HBP5N4FR.js";s();import{useEffect as W,useRef as A}from"react";import{faRefresh as N}from"@fortawesome/free-solid-svg-icons";import g from"bignumber.js";S();var y=()=>{let{address:p}=m(),{tokenLogin:t}=a(u),{secondsUntilExpires:n,expiresAt:d}=c(t==null?void 0:t.nativeAuthToken),o=A();return W(()=>{var i;let e=new g(String(n)),T=e.times(1e3);if(!(!n||e.isLessThanOrEqualTo(0))){if((i=t==null?void 0:t.nativeAuthConfig)!=null&&i.tokenExpirationToastWarningSeconds){clearTimeout(o.current);let x=new g(t.nativeAuthConfig.tokenExpirationToastWarningSeconds).times(1e3),r=e.times(1e3).minus(x),E=l(T.toNumber()),h=r.isLessThanOrEqualTo(0)?0:r.toNumber();o.current=setTimeout(()=>{f({toastId:"nativeAuthTokenExpiration",type:"custom",title:"Session Expiration Warning",icon:N,message:`Your token will expire in ${E}!`})},h)}return()=>{clearTimeout(o.current)}}},[d,p,t==null?void 0:t.nativeAuthConfig]),null};export{y as a};
//# sourceMappingURL=chunk-UN3XKPSG.js.map
