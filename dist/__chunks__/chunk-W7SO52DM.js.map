{
  "version": 3,
  "sources": ["../../src/utils/storage/local.ts"],
  "sourcesContent": ["import { getUnixTimestamp } from 'utils/dateTime';\n\nexport const localStorageKeys = {\n  loginExpiresAt: 'sdk-dapp-login-expires-at',\n  logoutEvent: 'sdk-dapp-logout-event'\n} as const;\n\ntype LocalValueType = keyof typeof localStorageKeys;\ntype LocalKeyType = typeof localStorageKeys[LocalValueType];\n\ntype ExpiresType = number | false;\n\nconst hasLocalStorage = typeof localStorage !== 'undefined';\n\nexport const setItem = ({\n  key,\n  data,\n  expires\n}: {\n  key: LocalKeyType;\n  data: any;\n  expires: ExpiresType;\n}) => {\n  if (!hasLocalStorage) {\n    return;\n  }\n  localStorage.setItem(\n    String(key),\n    JSON.stringify({\n      expires,\n      data\n    })\n  );\n};\n\nexport const getItem = (key: LocalKeyType): any => {\n  if (!hasLocalStorage) {\n    return;\n  }\n  const item = localStorage.getItem(String(key));\n  if (!item) {\n    return null;\n  }\n\n  const deserializedItem = JSON.parse(item);\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (\n    !deserializedItem.hasOwnProperty('expires') ||\n    !deserializedItem.hasOwnProperty('data')\n  ) {\n    return null;\n  }\n\n  const expired = getUnixTimestamp() >= deserializedItem.expires;\n  if (expired) {\n    localStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nexport const removeItem = (key: LocalKeyType) => {\n  if (!hasLocalStorage) {\n    return;\n  }\n\n  localStorage.removeItem(String(key));\n};\n\nexport const clear = () => {\n  if (!hasLocalStorage) {\n    return;\n  }\n\n  localStorage.clear();\n};\n"],
  "mappings": "sIAAA,mGAEa,GAUP,EAEO,EAqBA,EA8BA,EAQA,EAzEb,iBAEO,AAAM,EAAmB,CAC9B,eAAgB,4BAChB,YAAa,uBACf,EAOM,EAAkB,MAAO,eAAiB,YAEnC,EAAU,CAAC,CACtB,MACA,OACA,aAKI,CACJ,AAAI,CAAC,GAGL,aAAa,QACX,OAAO,CAAG,EACV,KAAK,UAAU,CACb,UACA,MACF,CAAC,CACH,CACF,EAEa,EAAU,AAAC,GAA2B,CACjD,GAAI,CAAC,EACH,OAEF,GAAM,GAAO,aAAa,QAAQ,OAAO,CAAG,CAAC,EAC7C,GAAI,CAAC,EACH,MAAO,MAGT,GAAM,GAAmB,KAAK,MAAM,CAAI,EAKxC,MAJI,CAAC,GAKH,CAAC,EAAiB,eAAe,SAAS,GAC1C,CAAC,EAAiB,eAAe,MAAM,EAEhC,KAGO,EAAiB,GAAK,EAAiB,QAErD,cAAa,WAAW,OAAO,CAAG,CAAC,EAC5B,MAGF,EAAiB,IAC1B,EAEa,EAAa,AAAC,GAAsB,CAC/C,AAAI,CAAC,GAIL,aAAa,WAAW,OAAO,CAAG,CAAC,CACrC,EAEa,EAAQ,IAAM,CACzB,AAAI,CAAC,GAIL,aAAa,MAAM,CACrB",
  "names": []
}
