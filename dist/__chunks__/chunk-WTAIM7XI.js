import{m as p}from"./chunk-HBP5N4FR.js";p();var U=(d,b)=>{function h(l){l()}let x=h,v=()=>x;function S(){let l=v(),i=null,u=null;return{clear(){i=null,u=null},notify(){l(()=>{let t=i;for(;t;)t.callback(),t=t.next})},get(){let t=[],n=i;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0,e=u={callback:t,next:null,prev:u};return e.prev?e.prev.next=e:i=e,function(){!n||i===null||(n=!1,e.next?e.next.prev=e.prev:u=e.prev,e.prev?e.prev.next=e.next:i=e.next)}}}}let f={notify:()=>({}),get:()=>[]},r,s=f;function g(l){return a(),s.subscribe(l)}function y(){s.notify()}function c(){o.onStateChange&&o.onStateChange()}function C(){return Boolean(r)}function a(){r||(r=b?b.addNestedSub(c):d.subscribe(c),s=S())}function N(){r&&(r(),r=void 0,s.clear(),s=f)}let o={addNestedSub:g,notifyNestedSubs:y,handleChangeWrapper:c,isSubscribed:C,trySubscribe:a,tryUnsubscribe:N,getListeners:()=>s};return o};export{U as a};
//# sourceMappingURL=chunk-WTAIM7XI.js.map
