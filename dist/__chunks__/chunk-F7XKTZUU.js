import{a as m}from"./chunk-KZR7TQ7H.js";import{c as l,z as h}from"./chunk-326XWAT2.js";import{j as i,m as u}from"./chunk-HBP5N4FR.js";u();h();import p from"axios";var f=4,g=3e4,o={current:null},r={current:null},y=m((e,n,s)=>i(void 0,null,function*(){if(s){let t=Math.floor(Date.now()/1e3);return{hash:yield s(),timestamp:t}}let{data:a}=yield p.get(`${e}/${l}?from=${f}&size=1&fields=hash,timestamp${n?"&shard="+n:""}`),[c]=a;return c}));function d(e,n,s,a){return i(this,null,function*(){if(e==null)throw new Error("missing api url");let c=Date.now();if(o.current!=null&&c<o.current.timestamp*1e3+g&&!a)return o.current;if(r.current!=null)return yield r.current;r.current=y(e,n,s);try{let t=yield r.current;if(t==null)throw r.current=null,new Error("could not get block hash");return o.current={hash:t.hash,timestamp:t.timestamp},r.current=null,t}catch(t){return r.current=null,null}})}export{d as a};
//# sourceMappingURL=chunk-F7XKTZUU.js.map
