{
  "version": 3,
  "sources": ["../../src/components/LogoutListener/helpers/useLogoutFromMultipleTabs.ts"],
  "sourcesContent": ["import { useEffect } from 'react';\nimport { useGetAccountInfo } from 'hooks';\nimport { useSelector } from 'reduxStore/DappProviderContext';\nimport { logoutRouteSelector } from 'reduxStore/selectors';\nimport { logout } from 'utils/logout';\nimport { localStorageKeys } from 'utils/storage/local';\n\nconst { logoutEvent } = localStorageKeys;\nconst storageKey = 'storage';\n\nexport const useLogoutFromMultipleTabs = () => {\n  const { address } = useGetAccountInfo();\n  const logoutRoute = useSelector(logoutRouteSelector);\n\n  useEffect(() => {\n    const receiveMessage = (ev: StorageEvent) => {\n      if (ev.key !== logoutEvent || !ev.newValue) {\n        return;\n      }\n\n      try {\n        const { data } = JSON.parse(ev.newValue);\n\n        if (data === address) {\n          logout(logoutRoute);\n        }\n      } catch (err) {\n        return;\n      }\n    };\n\n    window?.addEventListener(storageKey, receiveMessage);\n    return () => {\n      window?.removeEventListener(storageKey, receiveMessage);\n    };\n  }, [address, logoutRoute]);\n};\n"],
  "mappings": "+RAAA,sCAGA,IAEA,IAEA,GAAM,CAAE,eAAgB,EAClB,EAAa,UAEN,EAA4B,IAAM,CAC7C,GAAM,CAAE,WAAY,EAAkB,EAChC,EAAc,EAAY,CAAmB,EAEnD,EAAU,IAAM,CACd,GAAM,GAAiB,AAAC,GAAqB,CAC3C,GAAI,IAAG,MAAQ,GAAe,CAAC,EAAG,UAIlC,GAAI,CACF,GAAM,CAAE,QAAS,KAAK,MAAM,EAAG,QAAQ,EAEvC,AAAI,IAAS,GACX,EAAO,CAAW,CAEtB,OAAS,EAAP,CACA,MACF,CACF,EAEA,4BAAQ,iBAAiB,EAAY,GAC9B,IAAM,CACX,qBAAQ,oBAAoB,EAAY,EAC1C,CACF,EAAG,CAAC,EAAS,CAAW,CAAC,CAC3B",
  "names": []
}
