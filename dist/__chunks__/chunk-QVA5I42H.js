import{a as E}from"./chunk-K52O4EQM.js";import{a as k}from"./chunk-7Y46Y4T5.js";import{a as w}from"./chunk-XGOEYHJZ.js";import{a as x}from"./chunk-OX6DC2DM.js";import{a as C}from"./chunk-BKJNW2TR.js";import{a as M}from"./chunk-I7APG7OA.js";import{a as L}from"./chunk-XYVPB7J4.js";import{a as P}from"./chunk-AFHIR5VN.js";import{a as W}from"./chunk-QEUSB62B.js";import{c as R,d}from"./chunk-JUB6TCFX.js";import{a as G,b as gn}from"./chunk-TU5HOMYO.js";import{s as un}from"./chunk-7OZRG2YY.js";import{a as c,b as ln}from"./chunk-MSMZZ5MP.js";import{l as b,n as y}from"./chunk-S55DZJQR.js";import{a as dn}from"./chunk-NJJDLNA3.js";import{i as A,k as s}from"./chunk-LRON2GMF.js";import{b as D,c as cn}from"./chunk-TGDCWKZH.js";import{a as h,b as sn}from"./chunk-OWBHRN3S.js";import{a as on}from"./chunk-OPT3JYNI.js";import{a as m,b as f,j as o,m as v}from"./chunk-HBP5N4FR.js";v();gn();un();dn();on();cn();ln();sn();function In(N){let{onCancel:F,verifyReceiverScam:U=!0,hasGuardianScreen:I}=N,{transactionsToSign:q,hasTransactions:B}=k(),V=d(b),j=C(),z=d(y),{account:H}=L(),{address:J,isGuarded:l,activeGuardianAddress:K}=H,{provider:O,providerType:Q}=P(),r=R(),X=x(),{transactions:Y,sessionId:e,callbackRoute:i,customTransactionInformation:a}=q||{};function Z(n){e&&r(s({sessionId:e,status:"cancelled"})),r(A(n))}let{pathname:_}=h(),$=i!=null&&_.includes(i),u=!(a!=null&&a.skipGuardian);function nn(n){return o(this,null,function*(){if(!w(n))return;let{needs2FaSigning:S,guardTransactions:tn}=M({transactions:n,sessionId:e,callbackRoute:i,isGuarded:l&&u,walletAddress:V}),p=n.map(t=>c(t));if(S){let t=yield tn();p=t?t.map(rn=>c(rn)):[]}!e||(r(s({sessionId:e,status:"signed",transactions:p})),i!=null&&(a==null?void 0:a.redirectAfterSign)&&!$&&D({url:i}))})}function en(){F(),X(e)}function an(n){return o(this,null,function*(){let T=Q!=="ledger"?O:yield j();return n?yield T.signTransaction(n):null})}let g=E({address:J,egldLabel:z,activeGuardianAddress:l&&u?K:void 0,transactionsToSign:B?Y:[],onGetScamAddressData:U?G:null,isLedger:W("ledger"),hasGuardianScreen:I,onCancel:en,onSignTransaction:an,onTransactionsSignError:Z,onTransactionsSignSuccess:nn});return f(m({},g),{callbackRoute:i,waitingForDevice:g.waitingForDevice})}export{In as a};
//# sourceMappingURL=chunk-QVA5I42H.js.map
