import{a as v}from"./chunk-VWIO5HEC.js";import{a as C}from"./chunk-EFGVEBF6.js";import{a as L}from"./chunk-OHGHWXS3.js";import{d as U}from"./chunk-K3GCLKZ7.js";import{b as y}from"./chunk-KQPPULAV.js";import{a as w,d as _}from"./chunk-PCK656QH.js";import{a as s,b as W}from"./chunk-WISLI42M.js";import{a,g as R}from"./chunk-W7SO52DM.js";import{a as P,b as k,c as M}from"./chunk-TGDCWKZH.js";import{c as B}from"./chunk-UORIA4VW.js";import{a as b}from"./chunk-7XYHQ72T.js";import{a as h,c as O}from"./chunk-7RBRFERR.js";import{a as T}from"./chunk-OWBHRN3S.js";import{a as E}from"./chunk-OPT3JYNI.js";import{j as f,m as p}from"./chunk-HBP5N4FR.js";p();O();_();E();M();W();R();B();var I=({callbackUrl:t,onRedirect:r})=>{typeof r=="function"?r(t):t&&k({url:t})},x=t=>{let r=s.local.getItem(a.logoutEvent),{data:n}=r?JSON.parse(r):{data:t};t===n&&(s.local.setItem({key:a.logoutEvent,data:t,expires:0}),s.local.removeItem(a.logoutEvent))},N=500;function $(to,ro){return f(this,arguments,function*(t,r,n=Boolean(L()),m={shouldBroadcastLogoutAcrossTabs:!0,hasConsentPopup:!1}){var g;let i="",o=U(),u=y(o),l=u==="wallet",d=((g=o==null?void 0:o.isInitialized)==null?void 0:g.call(o))===!0;if(n&&(o==null?void 0:o.relogin)!=null)return o.relogin();if(m.shouldBroadcastLogoutAcrossTabs)try{i=yield C(),x(i)}catch(c){console.error("error fetching logout address",c)}let e=b(t),S=T(),A=new URL(decodeURIComponent(e)).pathname;if((v(S.pathname,A)||l&&d)&&P(),!i&&!d)return I({callbackUrl:e,onRedirect:r});try{if(w.dispatch(h()),l)return setTimeout(()=>{o.logout({callbackUrl:e})},N);m.hasConsentPopup&&u==="crossWindow"&&o.setShouldShowConsentPopup(!0),yield o.logout({callbackUrl:e})}catch(c){console.error("Logging out error:",c)}finally{l||I({callbackUrl:e,onRedirect:r})}})}export{$ as a};
//# sourceMappingURL=chunk-JVZLMSFE.js.map
