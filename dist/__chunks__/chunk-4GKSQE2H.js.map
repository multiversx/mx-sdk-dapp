{
  "version": 3,
  "sources": ["../../src/utils/transactions/transactionInfoHelpers/decodeForDisplay/helpers/decodeByMethod.ts"],
  "sourcesContent": ["import { Address } from '@multiversx/sdk-core/out';\nimport BigNumber from 'bignumber.js';\nimport {\n  DecodeMethodEnum,\n  TransactionTokensType\n} from 'types/serverTransactions.types';\nimport { addressIsValid } from 'utils/account/addressIsValid';\nimport { isUtf8 } from 'utils/decoders';\n\nexport const decodeByMethod = (\n  part: string,\n  decodeMethod: DecodeMethodEnum | string,\n  transactionTokens?: TransactionTokensType\n) => {\n  switch (decodeMethod) {\n    case DecodeMethodEnum.text:\n      try {\n        return Buffer.from(part, 'hex').toString('utf8');\n      } catch {}\n\n      return part;\n    case DecodeMethodEnum.decimal:\n      return part !== '' ? new BigNumber(part, 16).toString(10) : '';\n    case DecodeMethodEnum.smart:\n      try {\n        const bech32Encoded = Address.fromHex(part).toString();\n\n        if (addressIsValid(bech32Encoded)) {\n          return bech32Encoded;\n        }\n      } catch {}\n\n      try {\n        const decoded = Buffer.from(part, 'hex').toString('utf8');\n\n        if (!isUtf8(decoded)) {\n          if (transactionTokens) {\n            const tokens = [\n              ...transactionTokens.esdts,\n              ...transactionTokens.nfts\n            ];\n\n            if (tokens.some((token) => decoded.includes(token))) {\n              return decoded;\n            }\n          }\n\n          const bn = new BigNumber(part, 16);\n\n          return bn.isFinite() ? bn.toString(10) : part;\n        } else {\n          return decoded;\n        }\n      } catch {}\n\n      return part;\n    case DecodeMethodEnum.raw:\n    default:\n      return part;\n  }\n};\n"],
  "mappings": "6NAAA,mDACA,4BADA,GASa,GATb,aAEA,IAIA,IACA,IAEO,AAAM,EAAiB,CAC5B,EACA,EACA,IACG,CACH,OAAQ,OACD,OACH,GAAI,CACF,MAAO,UAAO,KAAK,EAAM,KAAK,EAAE,SAAS,MAAM,CACjD,OAAQ,EAAN,CAAO,CAET,MAAO,OACJ,UACH,MAAO,KAAS,GAAK,GAAI,GAAU,EAAM,EAAE,EAAE,SAAS,EAAE,EAAI,OACzD,QACH,GAAI,CACF,GAAM,GAAgB,EAAQ,QAAQ,CAAI,EAAE,SAAS,EAErD,GAAI,EAAe,CAAa,EAC9B,MAAO,EAEX,OAAQ,EAAN,CAAO,CAET,GAAI,CACF,GAAM,GAAU,SAAO,KAAK,EAAM,KAAK,EAAE,SAAS,MAAM,EAExD,GAAK,EAAO,CAAO,EAgBjB,MAAO,GAhBa,CACpB,GAAI,GAME,AALW,CACb,GAAG,EAAkB,MACrB,GAAG,EAAkB,IACvB,EAEW,KAAK,AAAC,GAAU,EAAQ,SAAS,CAAK,CAAC,EAChD,MAAO,GAIX,GAAM,GAAK,GAAI,GAAU,EAAM,EAAE,EAEjC,MAAO,GAAG,SAAS,EAAI,EAAG,SAAS,EAAE,EAAI,CAC3C,CAGF,OAAQ,EAAN,CAAO,CAET,MAAO,OACJ,cAEH,MAAO,GAEb",
  "names": []
}
