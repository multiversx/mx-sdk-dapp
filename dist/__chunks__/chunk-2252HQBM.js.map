{
  "version": 3,
  "sources": ["../../src/apiCalls/transactions/sendSignedBatchTransactions.ts"],
  "sourcesContent": ["import axios from 'axios';\nimport { TIMEOUT } from 'constants/network';\nimport { buildBatchId } from 'hooks/transactions/helpers/buildBatchId';\nimport { addressSelector, networkSelector } from 'reduxStore/selectors';\nimport { store } from 'reduxStore/store';\nimport {\n  BatchTransactionsRequestType,\n  BatchTransactionsResponseType,\n  CustomTransactionInformation,\n  SignedTransactionType\n} from 'types';\nimport { TRANSACTIONS_BATCH } from '../endpoints';\n\nexport interface SendBatchTransactionsPropsType {\n  transactions: SignedTransactionType[][];\n  sessionId: string;\n  customTransactionInformationOverrides?: Partial<CustomTransactionInformation>;\n}\n\nexport type SendSignedBatchTransactionsReturnType = {\n  error?: string | null;\n  batchId?: string | null;\n  data?: BatchTransactionsResponseType;\n};\n\nexport async function sendSignedBatchTransactions({\n  transactions,\n  sessionId\n}: SendBatchTransactionsPropsType) {\n  const address = addressSelector(store.getState());\n  const { apiAddress, apiTimeout } = networkSelector(store.getState());\n\n  if (!address) {\n    return {\n      error:\n        'Invalid address provided. You need to be logged in to send transactions',\n      batchId: null\n    };\n  }\n\n  try {\n    const batchId = buildBatchId({\n      sessionId,\n      address\n    });\n\n    const payload: BatchTransactionsRequestType = {\n      transactions,\n      id: batchId\n    };\n\n    const response = await axios.post<BatchTransactionsResponseType>(\n      `${apiAddress}/${TRANSACTIONS_BATCH}`,\n      payload,\n      {\n        timeout: Number(apiTimeout ?? TIMEOUT)\n      }\n    );\n\n    return { batchId, data: response.data };\n  } catch (err) {\n    console.error('error sending batch transactions', err);\n    return {\n      error: (err as any)?.message ?? 'error sending batch transactions',\n      batchId: null\n    };\n  }\n}\n"],
  "mappings": "4VAAA,IACA,IADA,qBAGA,IACA,IAOA,IAcA,WAAkD,EAGf,mCAHe,CAChD,eACA,aACiC,CA5BnC,MA6BE,GAAM,GAAU,EAAgB,EAAM,SAAS,CAAC,EAC1C,CAAE,aAAY,cAAe,EAAgB,EAAM,SAAS,CAAC,EAEnE,GAAI,CAAC,EACH,MAAO,CACL,MACE,0EACF,QAAS,IACX,EAGF,GAAI,CACF,GAAM,GAAU,EAAa,CAC3B,YACA,SACF,CAAC,EAEK,EAAwC,CAC5C,eACA,GAAI,CACN,EAEM,EAAW,KAAM,GAAM,KAC3B,GAAG,KAAc,IACjB,EACA,CACE,QAAS,OAAO,UAAc,CAAO,CACvC,CACF,EAEA,MAAO,CAAE,UAAS,KAAM,EAAS,IAAK,CACxC,OAAS,EAAP,CACA,eAAQ,MAAM,mCAAoC,CAAG,EAC9C,CACL,MAAQ,oBAAa,UAAb,OAAwB,mCAChC,QAAS,IACX,CACF,CACF",
  "names": []
}
