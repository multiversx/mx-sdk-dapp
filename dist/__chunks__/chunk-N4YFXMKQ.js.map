{
  "version": 3,
  "sources": ["../../src/utils/parseNavigationParams.ts"],
  "sourcesContent": ["import { clearNavigationHistory } from './clearNavigationHistory';\nimport { isWindowAvailable } from './isWindowAvailable';\n\ninterface ParseNavigationParamsOptionsType {\n  search?: string;\n  removeParams?: string[];\n}\n\nconst defaultOptions: ParseNavigationParamsOptionsType = {\n  search: isWindowAvailable() ? window.location.search : '',\n  removeParams: []\n};\n\n/**\n * @param preserveParams allows extracting params from URL search object\n * @param options.removeParams allows removing params from URL search object\n * @returns the selected params, search object with removed params, and the `clearNavigationHistory` helper\n */\nexport const parseNavigationParams = (\n  preserveParams: string[],\n  options = defaultOptions\n) => {\n  let params: Record<string, string> = {};\n  const defaultSearch = isWindowAvailable() ? window.location.search : '';\n  const search = options.search ?? defaultSearch;\n\n  if (search) {\n    const urlSearchParams = search ? new URLSearchParams(search) : [];\n    params = Object.fromEntries(urlSearchParams);\n  }\n\n  const remainingParams: Record<string, string> = {};\n\n  preserveParams.forEach((key) => {\n    remainingParams[key] = params[key];\n    delete params[key];\n  });\n\n  if (options.removeParams != null) {\n    Object.keys(params).forEach((entry) => {\n      // param is of type a=1 or a[1]=1\n      const [arrayEntry] = entry.split('[');\n      if (\n        options.removeParams?.includes(entry) ||\n        options.removeParams?.includes(arrayEntry)\n      ) {\n        delete params[entry];\n      }\n    });\n  }\n\n  return {\n    remainingParams,\n    params,\n    clearNavigationHistory: () => clearNavigationHistory(params)\n  };\n};\n"],
  "mappings": "wIAAA,GAQM,GAUO,EAlBb,iBACA,IAOA,AAAM,EAAmD,CACvD,OAAQ,EAAkB,EAAI,OAAO,SAAS,OAAS,GACvD,aAAc,CAAC,CACjB,EAOa,EAAwB,CACnC,EACA,EAAU,IACP,CArBL,MAsBE,GAAI,GAAiC,CAAC,EAChC,EAAgB,EAAkB,EAAI,OAAO,SAAS,OAAS,GAC/D,EAAS,KAAQ,SAAR,OAAkB,EAEjC,GAAI,EAAQ,CACV,GAAM,GAAkB,EAAS,GAAI,iBAAgB,CAAM,EAAI,CAAC,EAChE,EAAS,OAAO,YAAY,CAAe,CAC7C,CAEA,GAAM,GAA0C,CAAC,EAEjD,SAAe,QAAQ,AAAC,GAAQ,CAC9B,EAAgB,GAAO,EAAO,GAC9B,MAAO,GAAO,EAChB,CAAC,EAEG,EAAQ,cAAgB,MAC1B,OAAO,KAAK,CAAM,EAAE,QAAQ,AAAC,GAAU,CAvC3C,QAyCM,GAAM,CAAC,GAAc,EAAM,MAAM,GAAG,EACpC,AACE,OAAQ,eAAR,cAAsB,SAAS,KAC/B,MAAQ,eAAR,cAAsB,SAAS,MAE/B,MAAO,GAAO,EAElB,CAAC,EAGI,CACL,kBACA,SACA,uBAAwB,IAAM,EAAuB,CAAM,CAC7D,CACF",
  "names": []
}
