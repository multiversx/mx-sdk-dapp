import{a as x}from"./chunk-VH5B3W6C.js";import{a as u}from"./chunk-E3MZPP7L.js";import{a as w}from"./chunk-2HQJYAJ2.js";import{a as B}from"./chunk-2252HQBM.js";import{a as l}from"./chunk-DBHSLC75.js";import{a as y,b as P}from"./chunk-W4TPORJ4.js";import{a as h,d as R}from"./chunk-PCK656QH.js";import{a as M}from"./chunk-NJJDLNA3.js";import{b as S}from"./chunk-IJ22BTFZ.js";import{j as p,m as f}from"./chunk-HBP5N4FR.js";f();P();M();R();var b=A=>p(void 0,[A],function*({session:o,sessionId:s,clearSignInfo:c,sendSignedBatchTransactionsAsync:d}){var i,a;let{transactions:g}=o;if(!g)return;let e=(i=o.customTransactionInformation)==null?void 0:i.grouping;if(!e)return;let T=g.reduce((r,E,I)=>{let m=e.findIndex(v=>v.includes(I));return r[m]||(r[m]=[]),r[m].push(E),r},[]);if(T.length===0)return;let n=yield d({transactions:T,sessionId:s}),t=n==null?void 0:n.data;if((n==null?void 0:n.error)||!t){u({errorMessage:(a=n==null?void 0:n.error)!=null?a:"Send batch error",sessionId:s,transactions:g,clearSignInfo:c});return}return t&&h.dispatch(S(t)),x({transactions:t==null?void 0:t.transactions}).map(r=>r.hash)}),Q=g=>p(void 0,[g],function*({session:o,sessionId:s,clearSignInfo:c,sendSignedBatchTransactionsAsync:d=B,sendSignedTransactionsAsync:A=l}){var n,t,i;let{transactions:e}=o;if(!e)return;if((n=o.customTransactionInformation)==null?void 0:n.grouping)try{return yield b({session:o,sessionId:s,clearSignInfo:c,sendSignedBatchTransactionsAsync:d})}catch(a){return u({errorMessage:a.message,sessionId:s,transactions:e}),null}try{let a=e.map(r=>y(r));return yield A(a)}catch(a){let r=(t=a.response)==null?void 0:t.data;return w({errorMessage:(i=r==null?void 0:r.message)!=null?i:a.message,sessionId:s,clearSignInfo:c}),null}});export{Q as a};
//# sourceMappingURL=chunk-6654KKPX.js.map
