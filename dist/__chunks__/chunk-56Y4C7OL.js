import{a as c}from"./chunk-EA6JYINF.js";import{a as y}from"./chunk-BIAZCLDW.js";import{a as k}from"./chunk-F7XKTZUU.js";import{a as s,j as u,m as d}from"./chunk-HBP5N4FR.js";d();import{NativeAuthClient as I}from"@multiversx/sdk-native-auth-client";var b=m=>{let{origin:o,apiAddress:r,expirySeconds:g,blockHashShard:h,extraInfo:T,gatewayUrl:v,extraRequestHeaders:A}=c(m),t=new I({origin:o,apiUrl:r,expirySeconds:g,blockHashShard:h,gatewayUrl:v,extraRequestHeaders:A});return{getNativeAuthConfig:c,initialize:e=>u(void 0,null,function*(){var n,f;if(!r||!o)return"";let i=()=>t.getCurrentBlockHash();try{let a=(n=e==null?void 0:e.latestBlockInfo)!=null?n:yield k(r,h,i,e==null?void 0:e.noCache);if(!a)return"";let{hash:C,timestamp:l}=a,x=t.encodeValue(JSON.stringify(s(s({},(f=e==null?void 0:e.extraInfo)!=null?f:T),l?{timestamp:l}:{})));return`${t.encodeValue(o)}.${C}.${g}.${x}`}catch(a){return console.error("Error getting native auth token: ",a.toString()),""}}),getToken:({address:e,token:i,signature:n})=>t.getToken(e,i,n),getTokenExpiration:y}};export{b as a};
//# sourceMappingURL=chunk-56Y4C7OL.js.map
