import{b as x}from"./chunk-A6KCXJ2P.js";import{j as a,m}from"./chunk-HBP5N4FR.js";m();import h,{useRef as d,useMemo as l}from"react";import s from"axios";var k=({children:A,authenticatedDomains:o})=>{var i;let{loginInfo:r}=x(),t=(i=r==null?void 0:r.tokenLogin)==null?void 0:i.nativeAuthToken,n=d(-1);return n.current=l(()=>(s.interceptors.response.use(e=>e,e=>{var p,c;let u=(p=e.config)==null?void 0:p.url;return(c=e.config)!=null&&c.params&&(u+=`?${new URLSearchParams(e.config.params).toString()}`),console.error("Axios error for: ",u),Promise.reject(e)}),s.interceptors.request.eject(n.current),s.interceptors.request.use(e=>a(void 0,null,function*(){return o.includes(String(e==null?void 0:e.baseURL))&&t&&(e.headers.Authorization=`Bearer ${t}`),e}),e=>{Promise.reject(e)})),[t,o]),h.createElement(h.Fragment,null,A)};export{k as a};
//# sourceMappingURL=chunk-FJX2CSSQ.js.map
