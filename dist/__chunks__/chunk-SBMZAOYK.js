import{e as d}from"./chunk-G3OAOFGO.js";import{a as c}from"./chunk-HKU3BVOJ.js";import{c as a}from"./chunk-K3GCLKZ7.js";import{a as e,d as u}from"./chunk-PCK656QH.js";import{a as n,c as p}from"./chunk-7RBRFERR.js";import{j as t,m as o}from"./chunk-HBP5N4FR.js";o();p();u();import{providerNotInitializedError as l}from"@multiversx/sdk-dapp-utils/out/helpers/providerNotInitializedError";import{WebviewProvider as g}from"@multiversx/sdk-webview-provider/out/WebviewProvider";var i=class{constructor(){this.init=()=>t(this,null,function*(){return yield this._provider.init()});this.login=()=>t(this,null,function*(){var s;let r=yield this._provider.login();return{address:(s=r==null?void 0:r.address)!=null?s:""}});this.logout=()=>t(this,null,function*(){return e.dispatch(n()),yield this._provider.logout()});this.relogin=()=>t(this,null,function*(){let r=yield this._provider.relogin();return r?(c(r),a(),r):(console.error("Unable to re-login. Missing accessToken."),null)});this.signTransactions=r=>t(this,null,function*(){let s=yield this._provider.signTransactions(r);return s||(d(),this._provider.cancelAction(),null)});this.signTransaction=r=>t(this,null,function*(){return yield this._provider.signTransaction(r)});this.signMessage=r=>t(this,null,function*(){return yield this._provider.signMessage(r)});this.cancelAction=()=>t(this,null,function*(){return yield this._provider.cancelAction()});this.isInitialized=()=>this._provider.isInitialized();this.isConnected=()=>this._provider.isConnected();this.sendCustomRequest=r=>t(this,null,function*(){this._provider.sendPostMessage({type:r.request.method,payload:r.request.params})});this.getAddress=l("getAddress");this._provider=g.getInstance({resetStateCallback:()=>e.dispatch(n())})}static getInstance(){return i._instance||(i._instance=new i),i._instance}getAccount(){var s;let r=this._provider.getAccount();return{address:(s=r==null?void 0:r.address)!=null?s:""}}setAccount(r){this._provider.setAccount(r)}};export{i as a};
//# sourceMappingURL=chunk-SBMZAOYK.js.map
