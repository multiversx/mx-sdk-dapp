{
  "version": 3,
  "sources": ["../../src/utils/transactions/builtCallbackUrl.ts"],
  "sourcesContent": ["import { SDK_DAPP_VERSION } from 'constants/index';\n\nfunction buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams as any);\n\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n\n  return { nextUrlParams, params };\n}\n\nconst version = '3.1.0'; // will be replaced at build time\n\nexport interface ReplyUrlType {\n  callbackUrl: string;\n  urlParams?: { [key: string]: string };\n}\n\nexport function builtCallbackUrl({\n  callbackUrl,\n  urlParams = {}\n}: ReplyUrlType) {\n  let url = callbackUrl;\n\n  if (Object.entries(urlParams).length > 0) {\n    try {\n      const { search, origin, pathname, hash } = new URL(callbackUrl);\n      const urlParamsWithVersion = {\n        ...urlParams,\n        [SDK_DAPP_VERSION]: version\n      };\n      const { nextUrlParams } = buildUrlParams(search, urlParamsWithVersion);\n      url = `${origin}${pathname}?${nextUrlParams}${hash}`;\n    } catch (err) {\n      console.error('Unable to construct URL from: ', callbackUrl, err);\n      return url;\n    }\n  }\n\n  return url;\n}\n"],
  "mappings": "4GAEA,WACE,EACA,EAGA,CACA,GAAM,GAAkB,GAAI,iBAAgB,CAAM,EAC5C,EAAS,OAAO,YAAY,CAAsB,EAOxD,MAAO,CAAE,cALa,GAAI,iBAAgB,OACrC,GACA,EACJ,EAAE,SAAS,EAEY,QAAO,CACjC,CASO,WAA0B,CAC/B,cACA,YAAY,CAAC,GACE,CACf,GAAI,GAAM,EAEV,GAAI,OAAO,QAAQ,CAAS,EAAE,OAAS,EACrC,GAAI,CACF,GAAM,CAAE,SAAQ,SAAQ,WAAU,QAAS,GAAI,KAAI,CAAW,EACxD,EAAuB,OACxB,GADwB,CAE3B,CAAC,GAAmB,CACtB,GACM,CAAE,iBAAkB,EAAe,EAAQ,CAAoB,EACrE,EAAM,GAAG,IAAS,KAAY,IAAgB,GAChD,OAAS,EAAP,CACA,eAAQ,MAAM,iCAAkC,EAAa,CAAG,EACzD,CACT,CAGF,MAAO,EACT,CAhDA,GAmBM,GAnBN,iBAmBA,AAAM,EAAU",
  "names": []
}
