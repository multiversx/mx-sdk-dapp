import{a as V}from"./chunk-TWOOX54R.js";import{c as ln,d as Cn}from"./chunk-57WLUEZA.js";import{a as A}from"./chunk-43PHZ72L.js";import{a as Q}from"./chunk-GAGVTIFK.js";import{a as B}from"./chunk-TXAITGIS.js";import{a as T}from"./chunk-ZXZXEDS2.js";import{b as E}from"./chunk-ETEOGFFI.js";import{a as I}from"./chunk-BTO2QZZF.js";import{x as fn}from"./chunk-UDZUNVED.js";import{a as W,b as pn}from"./chunk-OWBHRN3S.js";import{a as L,i as dn,j as M,m as c}from"./chunk-HBP5N4FR.js";c();import o,{useEffect as z,useState as gn}from"react";import{faCircleNotch as sn}from"@fortawesome/free-solid-svg-icons";import a from"classnames";import Pn from"qrcode";c();import*as i from"react";var xn=d=>i.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 31.114 44.981",width:16,height:16},d),i.createElement("g",{transform:"translate(-47.168 -21.519)"},i.createElement("g",{transform:"translate(-247.872 -130.693)"},i.createElement("path",{d:"M355.676,152.213l-3.832,17.8h-9.661Z",transform:"translate(-40.089 1)",fillRule:"evenodd",fill:"#fff"}),i.createElement("path",{d:"M326.45,271.184l-7.053,9.379H295.04l7.054-9.379Z",transform:"translate(0 -101.17)",fillRule:"evenodd",fill:"#fff"}),i.createElement("path",{d:"M381.139,333.864l-13.493,17.8,3.832-17.8Z",transform:"translate(-61.742 -155.472)",fillRule:"evenodd",fill:"#fff"})))),k=xn;fn();pn();var Nn=({callbackRoute:d,className:D="dapp-wallet-connect-login-modal",customSpinnerComponent:p,innerWalletConnectComponentsClasses:H,lead:Z="Scan the QR code using the xPortal App",loginButtonText:_="xPortal App",logoutRoute:q,nativeAuth:S,onLoginRedirect:U,showScamPhishingAlert:l=!0,title:X="Login with the xPortal App",token:C,globalStyles:t,styles:n,customRequestMethods:j=[]})=>{var g;let[F,{error:v,isLoading:G},{connectExisting:J,removeExistingPairing:K,uriDeepLink:O,walletConnectUri:f,wcPairings:m}]=E({callbackRoute:d,token:C,nativeAuth:S,onLoginRedirect:U,logoutRoute:q,customRequestMethods:j}),[h,Y]=gn(""),{containerContentClassName:$,containerScamPhishingAlertClassName:u,containerTitleClassName:R,containerSubtitleClassName:b,containerErrorClassName:y,containerQrCodeClassName:nn,containerLoaderClassName:on,containerButtonClassName:tn,walletConnectPairingListClassNames:rn}=H||{},an=B(),x=(g=m==null?void 0:m.filter(r=>{let cn=m.some(e=>{var s,P,N,w;return((s=r.peerMetadata)==null?void 0:s.name)===((P=e==null?void 0:e.peerMetadata)==null?void 0:P.name)&&((N=r.peerMetadata)==null?void 0:N.url)===((w=e==null?void 0:e.peerMetadata)==null?void 0:w.url)&&r.expiry<e.expiry});return Boolean(r.active)&&r.peerMetadata&&!cn}))!=null?g:[],en=()=>M(void 0,null,function*(){if(!f)return;let r=yield Pn.toString(f,{type:"svg"});r&&Y(r)});z(()=>{en()},[f]),z(()=>{F()},[]);let mn=l?I(C,u):void 0;return o.createElement(o.Fragment,null,l&&o.createElement(A,{url:W().origin,authorizationInfo:mn,className:u}),o.createElement("div",{className:a(n==null?void 0:n.xPortalContent,$)},o.createElement("div",{className:a(n==null?void 0:n.xPortalContainerHeading,R)},X),o.createElement("div",{className:a(n==null?void 0:n.xPortalContainerSubheading,b)},Z),o.createElement("div",null,v&&o.createElement("p",{className:a(n==null?void 0:n.xPortalContainerError,y)},v)),G||!h?o.createElement("div",{className:a(n==null?void 0:n.xPortalLoader,on)},p||o.createElement(Q,{iconSize:"10x",icon:sn,iconClass:a("fa-spin",t==null?void 0:t.textPrimary)})):o.createElement("div",{className:a(n==null?void 0:n.xPortalQrCode,nn),dangerouslySetInnerHTML:{__html:h}}),an&&o.createElement("a",{id:"accessWalletBtn","data-testid":"accessWalletBtn",href:O,rel:"noopener noreferrer nofollow",target:"_blank",className:a(t==null?void 0:t.btn,t==null?void 0:t.btnPrimary,n==null?void 0:n.xPortalContainerButton,tn)},o.createElement(k,{className:n==null?void 0:n.xPortalContainerButtonIcon}),_),x.length>0&&o.createElement(V,{activePairings:x,connectExisting:J,removeExistingPairing:K,className:D,pairingListClasses:rn})))},qn=T(Nn,{ssrStyles:()=>import("../UI/walletConnect/WalletConnectLoginContainer/walletConnectLoginContainerStyles.js"),clientStyles:()=>(Cn(),dn(ln)).default});export{qn as a};
//# sourceMappingURL=chunk-YR3LKHZ3.js.map
